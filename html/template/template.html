<!DOCTYPE html>
<html>
<head>
    <title>template</title>
    <meta charset="utf-8" content="text/html"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="../../script/lib/font-awesome/css/font-awesome.css" type="text/css" rel="stylesheet"/>
    <link href="../../script/func/easy-bootstrap/css/reset.css" type="text/css" rel="stylesheet"/>
    <link href="../../script/func/cri/final/cri.css" type="text/css" rel="stylesheet"/>
    <link href="../style/common.css" type="text/css" rel="stylesheet"/>
    <link href="../style/template.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" media="screen and (max-device-width: 480px)" href="../style/mobile.css" />
    <script src="../../script/lib/jquery/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="../../script/func/cri/final/cri.js" type="text/javascript"></script>
</head>
<body>
    <div id="top">青牛软件新框架模板页面</div>
    <div id="left">
        <div id="tree" style="height:100%"></div>
    </div>
    <div id="right">
    <div class="search-bar">
        <input name="fieldName"/>
        <input name="fieldValue"/>
        <div class="search-btns">
            <a href="javascript:void(0);" class="search-btn">search</a>
            <a href="javascript:void(0);" class="reset-btn">clear</a>
        </div>
    </div>
    <div class="grid-bar">
        <table id="grid">
            <tr>
                <td data-options="field:'propA'">propA</td>
                <td data-options="field:'propB'">propB</td>
                <td data-options="field:'propC'">propC</td>
                <td data-options="field:'propD'">propD</td>
                <td data-options="field:'propE'">propE</td>
                <td data-options="field:'propF'">propF</td>
            </tr>
        </table>
    </div>
    <div id="modifyWnd" style="display:none;">
        <input name="propA"/>
        <input name="propB"/>
        <input name="propC"/>
        <input name="propD"/>
        <input name="propE"/>
    </div>
    </div>
<script type="text/javascript">
    $(function(){
        var grid = $("#grid").datagrid({
            url:"./datagrid-data.json",
            rowNum:true,
            title:"hello grid",
            checkBox:true,
            toolbar:[{text:"button",handle:function(){console.log('hello hutton')},iconCls:"fa fa-circle-o"},{text:"按钮"}],
            pageSize:4,
            onClick:function(data){
            },
            onDblClick:function(data){
                modify(data);
            }
        });

        var tree = $("#tree").tree({
            url:"./tree-data.json",
            rowNum:true,
            title:"tree",
            onClick:function(data){
                console.log(data.propA);
            },
            onDblClick:function(data){
                console.log(data.propB);
            }
        });

        $(".search-bar input").each(function(){
            var titles = {fieldName:"fieldName",fieldValue:"fieldValue"};
            $(this).input({
                label:titles[this.name]
            });
        });

        $(".search-btn").button({
            iconCls:"fa fa-search",
            onClick:function(){
                console.log("search");
            }
        });

        $(".reset-btn").button({
            iconCls:"fa fa-times",
            onClick:function(){
                console.log("reset");
            }
        });
    });

    function modify(data){
        $("#modifyWnd input").each(function(){
            $(this).input({
                label:this.name,
                value:data[this.name]
            });
        });
        $("#modifyWnd").window({
            title:"修改对象属性",
            modal:true,
            width:400,
            height:200
        });
        $("#modifyWnd").show();
    }
</script>
</body>
</html>