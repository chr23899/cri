<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" content="text/html"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="../lib/font-awesome/css/font-awesome.css" type="text/css" rel="stylesheet"/>
    <link href="../css/reset.css" type="text/css" rel="stylesheet"/>
    <link href="../css/cri.css" type="text/css" rel="stylesheet"/>
    <link href="../css/common.css" type="text/css" rel="stylesheet"/>
    <link href="../css/frame.css" type="text/css" rel="stylesheet"/>
    <script src="../lib/jquery/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="../js/cri.js" type="text/javascript"></script>
    <title>cri-api-grid</title>
</head>
<body class="wrapper">

<div class="header">
    <div class="name">cri.Grid</div>
    <div class="type">Grid</div>
    <div class="des">表格类组件基类，继承自 <a href="./widgets">Widgets</a></div>
</div>

<h2>属性</h2>
<h3 class="item-head">
    <div class="name">title</div>
    <div class="type">String</div>
</h3>
<p class="item-body">定义题标</p>

<h3 class="item-head">
    <div class="name">height</div>
    <div class="type">Number</div>
</h3>
<p class="item-body">定义表格高度,未指定时,高度为auto</p>

<h3 class="item-head">
    <div class="name">width</div>
    <div class="type">Number</div>
</h3>
<p class="item-body">定义表格宽度,未指定时,100%父节点宽度</p>

<h3 class="item-head">
    <div class="name">toolbar</div>
    <div class="type">Array</div>
</h3>
<p class="item-body">
    定义树形菜单工具栏
    <pre><code>
    text:按钮文本
    iconCls:按钮图标,根据项目使用的字体库,cri默认依赖Font-Awesome字体库,请到Font-Awesome挑选图标
    handler:回调函数

    toolbar:[{text:'添加',iconCls:'fa fa-plus',handler:addFun},
             {text:'删除',iconCls:'fa fa-times',handler:deleteFun},
             {text:'修改',iconCls:'fa fa-pencil',handler:updateFun}
    ]
    </code></pre>

</p>

<h3 class="item-head">
    <div class="name">url</div>
    <div class="type">String</div>
</h3>
<p class="item-body">数据请求地址</p>

<h3 class="item-head">
    <div class="name">Param</div>
    <div class="type">Object</div>
</h3>
<p class="item-body">请求数据参数</p>

<h3 class="item-head">
    <div class="name">checkBox</div>
    <div class="type">Boolean</div>
</h3>
<p class="item-body">是否显示checkBox,true:左侧出现checkbox列,默认false</p>

<h3 class="item-head">
    <div class="name">rowNum</div>
    <div class="type">Boolean</div>
</h3>
<p class="item-body">是否显示行号,true:显示,false:不显示.默认false</p>

<h3 class="item-head">
    <div class="name">columns</div>
    <div class="type">Array</div>
</h3>
<p class="item-body">
    列定义
    <pre><code>
        field :显示PO中的指定的字段
        width :列宽度
        columns:[
            {field:'fieldNameA',width:100},
            {field:'fieldNameB',width:200},
            {field:'fieldNameC',width:200}
        ]
    </code></pre>
</p>

<h3 class="item-head">
    <div class="name">pagination</div>
    <div class="type">Boolean</div>
</h3>
<p class="item-body">是否分页,true:分页,false:不分页.默认true</p>

<h3 class="item-head">
    <div class="name">page</div>
    <div class="type">Number</div>
</h3>
<p class="item-body">当前页数.默认1</p>

<h3 class="item-head">
    <div class="name">pageSize</div>
    <div class="type">Number</div>
</h3>
<p class="item-body">每页显示数据条数.默认10</p>

<h2>方法</h2>
<h3 class="item-head">
    <div class="name">reload</div>
    <div class="type">void</div>
</h3>
<p class="item-body">根据参数重新请求数据并生成树</p>

<h3 class="item-head">
    <div class="name">getSelected</div>
    <div class="type">Array</div>
</h3>
<p class="item-body">获取当前选择的所有节点数据</p>

<h3 class="item-head">
    <div class="name">loadData</div>
    <div class="type">null</div>
</h3>
<p class="item-body">
    根据参数中的数据构造Grid
    <pre><code>
        var grid = $("#tt").datagrid();
        grid.loadData([
            {fieldA:'A',fieldB:'B',fieldC:'C'},
            {fieldA:'A',fieldB:'B',fieldC:'C'},
            {fieldA:'A',fieldB:'B',fieldC:'C'},
            {fieldA:'A',fieldB:'B',fieldC:'C'},
            {fieldA:'A',fieldB:'B',fieldC:'C'}
        ]);
    </code></pre>
</p>

<h2>事件</h2>
<h3 class="item-head">
    <div class="name">onClick</div>
    <div class="type">Function</div>
</h3>
<p class="item-body">当点击表格行时，触发该事件</p>

<h3 class="item-head">
    <div class="name">onDblClick</div>
    <div class="type">Function</div>
</h3>
<p class="item-body">当双击表格行时，触发该事件</p>

<h3 class="item-head">
    <div class="name">onSelected</div>
    <div class="type">Function</div>
</h3>
<p class="item-body">当用户选择一行或者多行时触发该事件</p>

<h3 class="item-head">
    <div class="name">onLoad</div>
    <div class="type">Function</div>
</h3>
<p class="item-body">当表格完成HTML构造后触发</p>

<h3 class="item-head">
    <div class="name">ajaxDone</div>
    <div class="type">Function</div>
</h3>
<p class="item-body">数据请求成功后触发</p>

<h3 class="item-head">
    <div class="name">ajaxError</div>
    <div class="type">Function</div>
</h3>
<p class="item-body">ajax 发生异常时触发</p>

</body>
</html>