function isArray(a){return a instanceof Array||!(a instanceof Object)&&"[object Array]"==Object.prototype.toString.call(a)||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice")?"array":typeof a}!function(a){function b(){}a.cri={},b.extend=function(a){var b=function(a){function b(){}return b.prototype=a,new b}(this.prototype);return b.constructor=a,a.prototype=b,a.extend=this.extend,a},cri.Class=b,cri.isArray=function(a){return a instanceof Array||!(a instanceof Object)&&"[object Array]"==Object.prototype.toString.call(a)||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice")?!0:!1},cri.getFormValue=function(a){for(var b=a.serialize().split(/&/)||[],c={},d=0,e=b.length;e>d;d++){var f=b[d].split(/=/),g=f[0],h=f[1];c[g]=h}return c},cri.setFormValue=function(a,b){for(var c in b)$("[name="+c+"]",a).val(b[c])},$.fn.formValue=function(a){return arguments.length>0?void cri.setFormValue($(this),a):cri.getFormValue($(this))}}(window),!function(a){"use strict";var b=a.cri,c=a.jQuery,d=b.Class.extend(function(a,b){this.$element=c(a),this._initOptions(b),this._init(),this._eventListen()});d.prototype._initOptions=function(a){this.options=c.extend({},this.options,a)},d.prototype._init=function(){},d.prototype._eventListen=function(){},b.Widgets=d}(window),!function(a){"use strict";function b(a,b){var c=a[0].style.height,d=a[0].height,e=b||c||d;if(!e)return null;var f=(""+e).split("%");return f.length>1&&(e=Math.floor(a.parent().height()*f[0]/100)),(e=(""+e).split("px")[0])?parseInt(e):void 0}function c(a,b){var c=b||function(){var b="[";return e("tr th,td",a).each(function(){var a=e(this).data("options"),c=e(this).html();b+=a?"{title:'"+c+"',"+a+"},":"{title:'"+c+"'},"}),b+="]",b=b.replace(/\},\]/g,"}]").replace(/\],\]/g,"]]"),new Function("return "+b)()}();return e.map(c,function(a){return a.field&&a.width&&(a._width=a.width),a}),c}var d=a.cri,e=a.jQuery,f=31,g=31,h=41,i=31,j=5,k={url:null,param:{},title:null,toolbar:null,columns:null,rows:null,rowNum:!0,checkBox:!1,pagination:!0,page:1,pageSize:10,ajaxDone:null,ajaxError:null,onChecked:null,onClick:null,onDblClick:null,onLoad:null},l=d.Widgets.extend(function(a){this.options=k,this.$element=e(a),this.$grid=null,this.$gridhead=null,this.$gridbody=null,this.$toolbar=null,this.pager=null,this.$title=null,this._columns=[],this.selectedRow=null,this._gridClassName=this._gridClassName||"datagrid",d.Widgets.apply(this,arguments)});e.extend(l.prototype,{_eventListen:function(){var a=this,b=this.options,c=0;this.$gridbody.on("scroll",function(){e(".grid-head-wrap",a.$gridhead).scrollLeft(e(this).scrollLeft())}).on("click","tr",function(b){a._setSelected(b)}).on("dblclick","tr",function(b){a._onDblClickRow(b)}).on("change","input[type=checkbox]",function(b){a._checkbox(b)}),e(document).on("mouseup",function(){a.$gridhead.css("cursor",""),e(document).off("mousemove")}),this.$gridhead.on("mousedown",".drag-line",function(d){var f=0;b.rowNum&&f++,b.checkBox&&f++,f+=e(this).data("drag");var g=e("td:eq("+f+")",a.$gridhead);a.$gridhead.css("cursor","e-resize"),c=d.pageX,e(document).on("mousemove",function(b){var d=b.pageX-c,h=g.width()+d,i=e("table",a.$gridhead).width();c=b.pageX,console.log(h),h>=j&&(e("table",a.$gridbody).width(i+d),e("table",a.$gridhead).width(i+d),g.width(h),e("tr:eq(0) td:eq("+f+")",a.$gridbody).width(h))})}).on("click","input[type=checkbox]",function(c){var d=e(c.target).prop("checked");if(e("input[type=checkbox]",a.$gridbody).each(function(){e(this).prop("checked",d)}),d&&b.onChecked)for(var f=0;f<b.rows.length;f++)b.onChecked(b.rows[f],f)})},_init:function(){this._columns=c(this.$element,this.options.columns),this._createGrid(),this._createPage(),this._getData(),this.options.onLoad&&"function"==typeof this.options.onLoad&&this.options.onLoad.call(this)},_createGrid:function(){var a=b(this.$element,this.options.height),c=e("<div></div>").addClass("grid").addClass(this._gridClassName);c.attr("style",this.$element.attr("style")).show().css("height",a),this.$element.wrap(c),this.$element.hide(),this.$grid=this.$element.parent(),this._createTitle(this.$grid),this._createToolbar(this.$grid),this._createGridView(this.$grid,a)},_createGridView:function(a,b){this.$gridview=e("<div></div>").addClass("grid-view"),this.$gridhead=e("<div></div>").addClass("grid-head"),a.append(this.$gridview.append(this.$gridhead).append(this.$gridbody)),b&&(b-=i,this.options.title&&(b-=f),this.options.toolbar&&(b-=g),this.options.pagination&&(b-=h)),this._createHead(this.$gridhead),this.$gridbody=this._createBody(b),this.$grid.append(this.$gridbody)},_createTitle:function(a){this.options.title&&(this.$title=e('<div class="title"><span>'+this.options.title+"</span></div>"),a.append(this.$title))},_createHead:function(a){var b=e("<div></div>").addClass("grid-head-wrap"),c=e("<table></table>"),d=e("<tr></tr>"),f=this.options,g=this._columns;if(c.append(this._createColGroup(a.width())),f.checkBox){var h=e("<td></td>").addClass("line-checkbox").append('<span class="td-content"><input type="checkbox"/></span>');d.append(h)}if(f.rowNum){var i=e("<td></td>").addClass("line-number").append('<div class="td-content"></div>');d.append(i)}for(var j=0,k=g.length;k>j;j++){var l=e("<td></td>"),m=e("<div></div>").addClass("drag-line").data("drag",j),n=e("<div></div>").addClass("td-content grid-header-text"),o=g[j];for(var p in o){var q=o[p];"title"==p?n.prop("title",q).append(q):"field"!==p&&"width"!==p&&l.css(p,q)}l.append(n),k-1>j&&l.append(m),d.append(l)}c.append(d),a.html(b.html(c))},_createBody:function(a){var b=e('<div class="grid-body loading"></div>'),c=e('<i class="fa fa-spinner fa-spin"></i>').addClass("loadingIcon");return a&&b.height(a),b.append(c),b},_refreshBody:function(){var a=e("<table></table>"),b=this.options,c=0,d=1+b.pageSize*(b.page-1),f=this._columns;a.append(e("colgroup",this.$gridhead).clone());for(var g=0,h=b.rows.length;h>g;g++){var i=b.rows[g],j=e("<tr></tr>").data("rowid",c);b.checkBox&&j.append(e("<td></td>").addClass("line-checkbox").append('<input type="checkbox"/>')),b.rowNum&&j.append(e("<td></td>").addClass("line-number").append(d));for(var k=0,l=f.length;l>k;k++){var m=e("<td></td>"),n=e("<div></div>").addClass("td-content"),o=f[k],p=i[o.field]||"",q=(""+p).replace(/<.\w+\s*[^<]+>/g,"");n.prop("title",q).text(q),m.append(q),j.append(m)}d++,c++,a.append(j)}this.$gridbody.removeClass("loading").html(a),e("tr:nth-child(odd)",a).css("background","#FFF");var r=this.$gridbody.width()-this.$gridbody.prop("clientWidth");this.$gridhead.css("paddingRight",r)},_createColGroup:function(a){var b=e("<colgroup></colgroup>"),c=this.options,d=this._columns,f=0;c.checkBox&&b.append(e("<col/>").width(30))&&(f+=30),c.rowNum&&b.append(e("<col/>").width(25))&&(f+=20);for(var g=0,h=d.length;h>g;g++){var i=e("<col/>"),j=d[g]._width;j&&i.width(j)&&(f+=j),a>f&&i.width("auto"),b.append(i)}return b},_createToolbar:function(a){this.options.toolbar&&(this.toolbar=new d.ToolBar(a,{buttons:this.options.toolbar}))},_createPage:function(){var a=this.options,b=this;this.options.pagination&&(this.pager=new d.Pager(this.$grid,{page:a.page,pageSize:a.pageSize,total:0,rowsLen:0,onPage:function(c,d){a.page=c,a.pageSize=d,b._getData()}}))},_getData:function(){var a=!0,b=this.options,c=this;return b.pagination&&(b.param.page=b.page,b.param.rows=b.pageSize),e.ajax({type:"post",url:this.options.url,success:function(a){b.ajaxDone&&b.ajaxDone(a),b.rows=a.rows||[],b.total=a.total||0,c.pager&&c.pager.update(b.page,b.pageSize,b.total,b.rows.length),c._refreshBody(c.$gridbody)},error:function(a){console&&console.error(a.readyState+a.status+a.responseText),b.rows=[],b.total=0,c.pager&&c.pager.update(b.page,b.pageSize,b.total,b.rows.length),c._refreshBody(c.$gridbody)},complete:function(){},data:b.param,dataType:"JSON",async:!1}),a},_checkbox:function(a){var b=this.options,c=e(a.target).prop("checked"),d=e(a.target).closest("tr").data("rowid");c&&b.onChecked&&b.onChecked(this._getRowDataById(d),d)},_setSelected:function(a){var b=e(a.target).closest("tr"),c=b.data("rowid");e("tr",this.$gridbody).toggleClass("selected",!1),this.selectedRow=this._getRowDataById(c),b.toggleClass("selected"),this.options.onClick&&this.options.onClick.call(this,this.selectedRow)},_getRowDataById:function(a){return this.options.rows[parseInt(a)]},_onDblClickRow:function(a){var b=this.options,c=e(a.target).closest("tr"),d=c.data("rowid"),f=this;this.selectedRow=this._getRowDataById(d),b.onDblClick&&b.onDblClick(f.selectedRow)},reload:function(a){a&&(this.options.param=a),this.selectedRow=null,this._getData()},loadData:function(a){a.push&&(this.options.rows=a,this._refreshBody())},getMulSelected:function(){var a=[],b=this;return e("tr input[type='checkbox']:checked",this.$gridbody).each(function(){var c=e(this).closest("tr").data("rowid");a.push(b._getRowDataById(c))}),a},getSelected:function(){return this.selectedRow}}),d.Grid=l}(window),!function(a){"use strict";var b=a.cri,c=a.jQuery,d={iconCls:null,onClick:null,enable:!0},e="button",f=b.Widgets.extend(function(){this.options=d,this.$inputGroup=null,b.Widgets.apply(this,arguments)});c.extend(f.prototype,{_eventListen:function(){},_init:function(){this._create()},_create:function(){var a=this.options,b=this.$element.hide();b.wrap('<div class="'+e+'"></div>');var d=this.$button=b.parent(),f=c('<i class="'+a.iconCls+'"></i>');d.append(f,b.text()),d.on("click",function(){a.onClick.call()})},_destory:function(){}}),b.Button=f,c.fn.button=function(a){var b=null;return this.each(function(){var b=c(this),d=b.data("button"),e="object"==typeof a&&a;null!=d&&d._destory(),b.data("button",d=new f(this,e))}),b}}(window),!function(a){var b=a.jQuery,c=a.cri,d=c.DataGrid=c.Grid.extend(function(){c.Grid.apply(this,arguments)});b.fn.datagrid=function(a){var c=null;return this.each(function(){var e=b(this),f=e.data("datagrid"),g="object"==typeof a&&a;null!=f&&f.$grid.before(e).remove(),e.data("datagrid",c=new d(this,g))}),c}}(window),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.dataOptions=a.extend({},a.fn.floatContainer01.defaults,c),this.title=this.$element.attr("title"),this.id=this.$element.attr("id"),this.init()};b.prototype.init=function(){var a=this;a.$element.append('<div style="clear:both"></div>')},a.fn.floatContainer01=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("floatContainer01"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("floatContainer01",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.floatContainer01.defaults={},a(window).on("load",function(){a(".eb_floatContainer01").each(function(){var b=a(this),c=b.data("options");b.floatContainer01(c?new Function("return {"+c+"}")():a.fn.floatContainer01.defaults)})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.dataOptions=a.extend({},a.fn.floatContainer02.defaults,c),this.title=this.$element.attr("title"),this.id=this.$element.attr("id"),this.init()};b.prototype.init=function(){var a=this;a.$element.append('<div style="clear:both"></div>')},a.fn.floatContainer02=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("floatContainer02"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("floatContainer02",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.floatContainer02.defaults={},a(window).on("load",function(){a(".eb_floatContainer02").each(function(){var b=a(this),c=b.data("options");b.floatContainer02(c?new Function("return {"+c+"}")():a.fn.floatContainer02.defaults)})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.dataOptions=a.extend({},a.fn.fileUpload.defaults,c),this.title="",this.$element.attr("title")&&(this.title=this.$element.attr("title")),this.dataOptions.title&&(this.title=this.dataOptions.title),this.id=this.$element.attr("id"),this.name=this.$element.attr("name"),this.init()};b.prototype.init=function(){var b=this;this.fileUploadObj=this.$element,this.fileUploadObj.wrap(a('<div class="eb_fileUploadGroup"></div>')),this.parent=this.fileUploadObj.parent(),this.parent.data("fileUpload",b),this.fileUploadObj.after(a('<input class="eb_fileUploadInput" name="'+b.name+'" id="eb_fileUploadInput_'+b.id+'" />')),this.inputObj=this.parent.children(".eb_fileUploadInput"),this.inputObj.data("fileUpload",b),this.inputObj.before(a('<span class="eb_title">'+b.title+"</span>")),this.titleObj=this.parent.children(".eb_title"),this.inputObj.after(a('<div class="eb_button">浏览</div>')),this.buttonObj=this.parent.children(".eb_button"),this.fileUploadObj.change(function(){var a=b.fileUploadObj.val();b.inputObj.val(a),b.parent.attr("value",a)}),this.buttonObj.click(function(){b.fileUploadObj.trigger("click"),b.fileUploadObj.get(0).focus()}).mousedown(function(){setTimeout(function(){b.inputObj.addClass("focus"),b.buttonObj.addClass("focus")},1)}),this.setWidth(),this.setHeight(),this.setStyle()},b.prototype.setValue=function(a){this.inputObj.val(a),this.fileUploadObj.val(a),this.fileUploadObjClone&&his.fileUploadObjClone.val(a),this.parent.attr("value",a)},b.prototype.getValue=function(){var a=this.fileUploadObj.val();return this.fileUploadObjClone&&(a=this.fileUploadObjClone.val()),a},b.prototype.clearValue=function(){this.setValue("")},b.prototype.initInForm=function(b){var c=this;return b.append(c.fileUploadObjClone=c.fileUploadObj.clone().css("display","none").addClass("clone")),this.fileUploadObj.click(function(){return c.fileUploadObjClone.trigger("click"),!1}),this.fileUploadObjClone.change(function(){var b=a(this).val();c.setValue(b)}),c.fileUploadObjClone},b.prototype.setWidth=function(b){var c=this,d=a.fn.fileUpload.defaults.width;if(this.dataOptions.width&&(d=this.dataOptions.width),b&&(d=b),"string"==typeof d&&(d=d.split("px")[0]),this.parent.width(d),this.inputObj.width(c.parent.width()-140),this.fileUploadObj.width(c.parent.width()-75),this.dataOptions.titleWidth||0==this.dataOptions.titleWidth){var d=this.dataOptions.titleWidth;this.titleObj.width(d),this.inputObj.width(c.parent.width()-d-67),this.fileUploadObj.width(c.parent.width()-d-2)}},b.prototype.setHeight=function(b){var c=a.fn.fileUpload.defaults.height;this.dataOptions.height&&(c=this.dataOptions.height),b&&(c=b),"string"==typeof c&&(c=c.dplit("px")[0]),this.parent.height(c),this.inputObj.height(c-2),this.inputObj.css("line-height",c-2+"px"),this.fileUploadObj.height(c),this.titleObj.height(c),this.titleObj.css("line-height",c+2+"px"),this.buttonObj.height(c),this.buttonObj.css("line-height",c+"px")},b.prototype.setStyle=function(){var b=this;this.buttonObj.mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")}).mousedown(function(){a(this).addClass("mousedown")}).mouseup(function(){a(this).removeClass("mousedown")}),this.fileUploadObj.focus(function(){b.inputObj.addClass("focus"),b.buttonObj.addClass("focus")}).blur(function(){b.inputObj.removeClass("focus"),b.buttonObj.removeClass("focus")})},a.fn.fileUpload=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("fileUpload"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("fileUpload",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.fileUpload.defaults={width:250,height:20},a(window).on("load",function(){a(".eb_fileUpload").not(".clone").each(function(){var b=a(this),c=b.data("options");b.fileUpload(c?new Function("return {"+c+"}")():a.fn.fileUpload.defaults)})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.dataOptions=a.extend({},a.fn.form.defaults,c),this.title=this.$element.attr("title"),this.id=this.$element.attr("id"),this.init()};b.prototype.init=function(){var b=this,c=a("body").get(0);if(1==this.dataOptions.ajax){a("body").append(c=a('<iframe src="ajaxFileUpload.html" id="ajaxFileUploadTest"></iframe>'));var d=c.get(0).contentWindow;d.onload=function(){c=d.$("#eb_ajaxFileUploadFormPanel").get(0),a(c).append(b.realFormObj=a('<form class="eb_realForm" style="display:none" id="eb_form_'+b.id+'"></form>')),b.realFormObj.attr("action",b.dataOptions.action).attr("method",b.dataOptions.method);var e=b.$element.find(".eb_fileUpload");e.length>0&&(e.each(function(){a(this).fileUpload("initInForm",b.realFormObj)}),b.realFormObj.attr("enctype","multipart/form-data"));var f={};b.$element.find("[name]").each(function(){var b=a(this).attr("name"),c=a(this).attr("value");a(this).val()&&(c=a(this).val()),f[b]=f[b]?f[b]+","+c:c});for(var g in f)b.realFormObj.find('[name="'+g+'"]').length<=0&&b.realFormObj.append(a('<input type="hidden" name="'+g+'" value="'+f[g]+'" />'))}}else{a(c).append(b.realFormObj=a('<form class="eb_realForm" style="display:none" id="eb_form_'+b.id+'"></form>')),this.realFormObj.attr("action",b.dataOptions.action).attr("method",b.dataOptions.method);var e=this.$element.find(".eb_fileUpload");e.length>0&&(e.each(function(){a(this).fileUpload("initInForm",b.realFormObj)}),b.realFormObj.attr("enctype","multipart/form-data"));var f={};this.$element.find("[name]").each(function(){var b=a(this).attr("name"),c=a(this).attr("value");a(this).val()&&(c=a(this).val()),f[b]=f[b]?f[b]+","+c:c});for(var g in f)b.realFormObj.find('[name="'+g+'"]').length<=0&&b.realFormObj.append(a('<input type="hidden" name="'+g+'" value="'+f[g]+'" />'))}},b.prototype.submit=function(b){var c=this;b&&b.type&&("get"==b.type||"post"==b.type)&&this.realFormObj.attr("action",type);var d=this.getValue();for(var e in d){var f=d[e];if(f&&"array"==isArray(f)){for(var g=f[0],h=1;h<f.length;h++)g=g+","+f[h];f=g}c.realFormObj.find('[name="'+e+'"]').each(function(){a(this).val(f)})}b&&b.action&&this.realFormObj.attr("action",b.action),this.realFormObj.submit()},b.prototype.getValue=function(){var b={},c=[];if(this.$element.find("div[name]").each(function(){var d=this;if("eb_inputGroup"==a(this).attr("class")){var e=a(this).input("check");if(1==e.result)if(b[a(d).attr("name")]||""==b[a(d).attr("name")])if("array"!=isArray(b[a(d).attr("name")])){var f=b[a(d).attr("name")];b[a(d).attr("name")]=[],b[a(d).attr("name")].push(f),b[a(d).attr("name")].push(a(d).input("getValue"))}else"array"==isArray(b[a(d).attr("name")])&&b[a(d).attr("name")].push(a(d).input("getValue"));else b[a(d).attr("name")]=a(d).input("getValue");else"fail"==e.required&&c.push(a(d).find(".eb_title").html())}else if("eb_timeInputGroup"==a(this).attr("class")){var e=a(this).timeInput("check");if(1==e.result)if(b[a(d).attr("name")]||""==b[a(d).attr("name")])if("array"!=isArray(b[a(d).attr("name")])){var f=b[a(d).attr("name")];b[a(d).attr("name")]=[],b[a(d).attr("name")].push(f),b[a(d).attr("name")].push(a(d).timeInput("getValue"))}else"array"==isArray(b[a(d).attr("name")])&&b[a(d).attr("name")].push(a(d).timeInput("getValue"));else b[a(d).attr("name")]=a(d).timeInput("getValue");else"fail"==e.required&&c.push(a(d).find(".eb_title").html())}else if("eb_selectBoxGroup"==a(this).attr("class")){var e=a(this).selectBox("check");if(1==e.result)if(b[a(d).attr("name")]||""==b[a(d).attr("name")])if("array"!=isArray(b[a(d).attr("name")])){var f=b[a(d).attr("name")];b[a(d).attr("name")]=[],b[a(d).attr("name")].push(f),b[a(d).attr("name")].push(a(d).selectBox("getValue"))}else"array"==isArray(b[a(d).attr("name")])&&b[a(d).attr("name")].push(a(d).selectBox("getValue"));else b[a(d).attr("name")]=a(d).selectBox("getValue");else"fail"==e.required&&c.push(a(d).find(".eb_title").html())}else if("eb_textareaGroup"==a(this).attr("class")){var e=a(this).textarea("check");if(1==e.result)if(b[a(d).attr("name")]||""==b[a(d).attr("name")])if("array"!=isArray(b[a(d).attr("name")])){var f=b[a(d).attr("name")];b[a(d).attr("name")]=[],b[a(d).attr("name")].push(f),b[a(d).attr("name")].push(a(d).textarea("getValue"))}else"array"==isArray(b[a(d).attr("name")])&&b[a(d).attr("name")].push(a(d).textarea("getValue"));else b[a(d).attr("name")]=a(d).textarea("getValue");else"fail"==e.required&&c.push(a(d).find(".eb_title").html())}}),this.$element.find("input[type='text'],select,textarea,input[type='hidden'],input[type='password']").not(".eb_input,.eb_selectBox,.eb_timeInput,.eb_textarea,.eb_selectBox_hide").each(function(){var c=this;if(b[a(c).attr("name")]||""==b[a(c).attr("name")])if("array"!=isArray(b[a(c).attr("name")])){var d=b[a(c).attr("name")];b[a(c).attr("name")]=[],b[a(c).attr("name")].push(d),b[a(c).attr("name")].push(a(c).val())}else"array"==isArray(b[a(c).attr("name")])&&b[a(c).attr("name")].push(a(c).val());else b[a(c).attr("name")]=a(c).val()}),c.length>0){for(var d='"',e=0;e<c.length;e++)d=e<c.length-1?d+c[e]+",":d+c[e]+'"为必填项，请完成填写！';return alert(d),!1}return b},b.prototype.setValue=function(b){var c=this;for(var d in b)c.$element.find("div[name='"+d+"']").each(function(){var c=this;"eb_inputGroup"==a(this).attr("class")?a(c).input("setValue",b[d]):"eb_selectBoxGroup"==a(this).attr("class")?""==b[d]?a(c).selectBox("clearValue"):a(c).selectBox("setValue",b[d]):"eb_textareaGroup"==a(this).attr("class")?a(c).textarea("setValue",b[d]):"eb_timeInputGroup"==a(this).attr("class")&&a(c).timeInput("setValue",b[d])}),c.$element.find("input[name='"+d+"'],select[name='"+d+"'],textarea[name='"+d+"']").each(function(){a(this).val(b[d])})},b.prototype.clearValue=function(){var b={};this.$element.find("[name]").each(function(){var c=this;b[a(c).attr("name")]=""}),this.setValue(b)},a.fn.form=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("form"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("form",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.form.defaults={method:"post",action:"",ajax:!1},a(window).on("load",function(){a(".eb_form").each(function(){var b=a(this),c=b.data("options");b.form(c?new Function("return {"+c+"}")():a.fn.form.defaults)})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){var d=this;this.$element=a(b),this.style=this.$element.attr("style"),this.dataOptions=a.extend({},a.fn.input.defaults,c),this.value="",this.dataOptions.defaultVal&&(this.value=this.dataOptions.defaultVal),this.title="",this.$element.attr("title")&&(this.title=this.$element.attr("title")),this.dataOptions.title&&(this.title=this.dataOptions.title),this.id=this.$element.attr("id"),this.name=this.$element.attr("name"),this.placeholder=this.$element.attr("placeholder")?this.$element.attr("placeholder"):"",this.init(),this.setStyle(),this.$element.change(function(){d.check()})};b.prototype.hide=function(){this.parentObj.hide()},b.prototype.show=function(){this.parentObj.show()},b.prototype.lengthLimit=function(b){var c,d=this.inputObj.get(0);this.inputObj.keypress(function(d){var e=a(this).val(),f=d.which;return e.length>=b&&8!=f&&0!=f?!1:void(c=a(this).val())}).get(0).onpaste=function(d){var e=a(this).val(),f=d.which;return e.length>=b&&8!=f&&0!=f?!1:void(c=a(this).val())},"undefined"!=typeof d.oninput&&(d.oninput=function(d){{var e=a(this).val();d.which}e.length>b?a(this).val(c):c=a(this).val()}),"undefined"!=typeof d.onpropertychange&&(d.oninput=function(d){{var e=a(this).val();d.which}e.length>b?a(this).val(c):c=a(this).val()})},b.prototype.check=function(){var a,b=this,c={length:0,result:!0};return this.inputObj.is("input")?a=this.inputObj.val():this.inputObj.is("span")&&(a=this.inputObj.attr("value")),1==this.dataOptions.required&&(a||(c.required="fail",c.result=!1,c.length++)),"numOnly"==this.dataOptions.validtype&&(this.setNumOnly()?b.value=b.getValue():(c.numOnly="fail",c.result=!1,c.length++,b.setValue(b.value))),c},b.prototype.setNumOnly=function(){var a=this;if(this.inputObj.is("input")){var b=new RegExp("^[0-9]*$");return b.test(a.inputObj.val())?!0:!1}return!0},b.prototype.getValue=function(){var a="";return this.inputObj.is("input")?a=this.inputObj.val():this.inputObj.is("span")&&(a=this.inputObj.attr("value")),a},b.prototype.setValue=function(a){this.inputObj.is("input")?this.inputObj.val(a):this.inputObj.attr("value",a).html(a),this.parentObj.attr("value",a),this.check()&&(this.value=a)},b.prototype.clearValue=function(){this.setValue("")},b.prototype.setStyle=function(){var b=this;this.inputObj.focus(function(){a(this).addClass("focus"),b.dataOptions.button&&b.buttonObj.addClass("focus")}).blur(function(){a(this).removeClass("focus"),b.dataOptions.button&&b.buttonObj.removeClass("focus")}),this.dataOptions.button&&this.buttonObj.mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")}).mousedown(function(){a(this).addClass("mousedown")}).mouseup(function(){a(this).removeClass("mousedown")})},b.prototype.init=function(){var b=this;this.$element.wrap(a('<div class="eb_inputGroup" id="'+this.id+'_subgroup" name="'+b.name+'" value="'+b.value+'" data-options="'+b.$element.data("options")+'"></div>')),this.$element.before('<span class="eb_title">'+this.title+"</span>"),this.parentObj=this.$element.parent(),this.inputObj=this.$element,this.inputObj.val(b.value),1==this.dataOptions.readonly&&(this.inputObj.after(a('<span class="eb_input eb_readonly" id="'+b.id+'" name="'+b.name+'" value="'+b.value+'" data-options="'+b.$element.data("options")+'">'+b.value+"</span>")),this.inputObj.remove(),this.$element=this.parentObj.children(".eb_input"),this.inputObj=this.parentObj.children(".eb_input"),this.inputObj.data("input",b)),this.parentObj.data("input",b),this.inputObj.attr("style",b.style),this.titleObj=this.parentObj.find(".eb_title"),1==this.dataOptions.required&&(this.inputObj.attr("placeholder",b.placeholder+"(必填)"),this.parentObj.append('<span class="redStar" style="color:red;">*</span>')),this.dataOptions.button&&(this.button=this.dataOptions.button,"string"==typeof this.button&&(this.button=window[b.button]),"string"==typeof b.button.handler&&(b.button.handler=window[b.button.handler]),this.inputObj.before(a('<span class="eb_button">'+b.button.text+"</span>").click(b.button.handler)),this.buttonObj=this.parentObj.children(".eb_button"),this.buttonObj.mousedown(function(){setTimeout(function(){b.inputObj.get(0).focus()},1)}).click(function(){b.inputObj.get(0).focus()}),this.inputObj.css({position:"relative",right:"-1px"})),this.dataOptions.lengthLimit&&this.lengthLimit(b.dataOptions.lengthLimit),this.setWidth(),this.setHeight(),this.setEvent()},b.prototype.setEvent=function(){var a=250;this.dataOptions.dblclickTimeSpan&&(a=this.dataOptions.dblclickTimeSpan);var b=this,c=null,d=null,e=null,f=!1,g=!1,h=!1;this.dataOptions.onclickHandler&&(this.inputObj.get(0).onclick=this.dataOptions.ondblclickHandler?"string"==typeof this.dataOptions.onclickHandler?function(){f||(c=setTimeout(window[this.dataOptions.onclickHandler],a),f=!0,setTimeout(function(){f=!1},a))}:function(){f||(c=setTimeout(b.dataOptions.onclickHandler,a),f=!0,setTimeout(function(){f=!1},a))}:"string"==typeof this.dataOptions.onclickHandler?window[this.dataOptions.onclickHandler]:b.dataOptions.onclickHandler),this.dataOptions.onmousedownHandler&&(this.inputObj.get(0).onmousedown=this.dataOptions.ondblclickHandler?"string"==typeof this.dataOptions.onmousedownHandler?function(){g||(d=setTimeout(window[this.dataOptions.onmousedownHandler],a),g=!0,setTimeout(function(){g=!1},a))}:function(){g||(d=setTimeout(b.dataOptions.onmousedownHandler,a),g=!0,setTimeout(function(){g=!1},a))}:"string"==typeof this.dataOptions.onmousedownHandler?window[this.dataOptions.onmousedownHandler]:b.dataOptions.onmousedownHandler),this.dataOptions.onmouseupHandler&&(this.inputObj.get(0).onmouseup=this.dataOptions.ondblclickHandler?"string"==typeof this.dataOptions.onmouseupHandler?function(){h||(e=setTimeout(window[this.dataOptions.onmouseupHandler],a),h=!0,setTimeout(function(){h=!1},a))}:function(){h||(e=setTimeout(b.dataOptions.onmouseupHandler,a),h=!0,setTimeout(function(){h=!1},a))}:"string"==typeof this.dataOptions.onmouseupHandler?window[this.dataOptions.onmouseupHandler]:b.dataOptions.onmouseupHandler),this.dataOptions.ondblclickHandler&&(this.inputObj.get(0).ondblclick="string"==typeof this.dataOptions.ondblclickHandler?function(){c&&(clearTimeout(c),c=null),d&&(clearTimeout(d),d=null),e&&(clearTimeout(e),e=null),window[b.dataOptions.ondblclickHandler]()}:function(){c&&(clearTimeout(c),c=null),d&&(clearTimeout(d),d=null),e&&(clearTimeout(e),e=null),b.dataOptions.ondblclickHandler()}),this.dataOptions.onfocusHandler&&(this.inputObj.get(0).onfocus="string"==typeof this.dataOptions.onfocusHandler?window[this.dataOptions.onfocusHandler]:this.dataOptions.onfocusHandler),this.dataOptions.onblurHandler&&(this.inputObj.get(0).onblur="string"==typeof this.dataOptions.onblurHandler?window[this.dataOptions.onblurHandler]:this.dataOptions.onblurHandler),this.dataOptions.onkeypressHandler&&(this.inputObj.get(0).onkeypress="string"==typeof this.dataOptions.onkeypressHandler?window[this.dataOptions.onkeypressHandler]:this.dataOptions.onkeypressHandler),this.dataOptions.onkeydownHandler&&(this.inputObj.get(0).onkeydown="string"==typeof this.dataOptions.onkeydownHandler?window[this.dataOptions.onkeydownHandler]:this.dataOptions.onkeydownHandler),this.dataOptions.onkeyupHandler&&(this.inputObj.get(0).onkeyup="string"==typeof this.dataOptions.onkeyupHandler?window[this.dataOptions.onkeyupHandler]:this.dataOptions.onkeyupHandler),this.dataOptions.onchangeHandler&&(this.inputObj.get(0).onchange="string"==typeof this.dataOptions.onchangeHandler?window[this.dataOptions.onchangeHandler]:this.dataOptions.onchangeHandler)},b.prototype.setWidth=function(){if(this.dataOptions.width){var a=null;a=isNaN(this.dataOptions.width)?this.dataOptions.width.split("px")[0]:this.dataOptions.width,this.parentObj.css("width",a),this.inputObj.width(this.dataOptions.button?a-140:a-80)}if(this.dataOptions.titleWidth||0==this.dataOptions.titleWidt){var b=this.dataOptions.titleWidth;"string"==typeof b&&(b=b.split("px")[0]);var a=this.parentObj.width(),c=a-b-7;this.dataOptions.button&&(c-=60),this.titleObj.width(b),this.inputObj.width(c)}},b.prototype.setHeight=function(){if(this.dataOptions.height){var a=null;a=isNaN(this.dataOptions.height)?this.dataOptions.height.split("px")[0]:this.dataOptions.height,this.parentObj.css("height",a),this.inputObj.css("height",a-2),this.titleObj.height(a+2).css("line-height",a+2+"px"),this.inputObj.is("span")&&this.inputObj.height(a).css("line-height",a+"px"),this.buttonObj&&this.buttonObj.height(a).css("line-height",a+"px")}},a.fn.input=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("input"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("input",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.input.defaults={required:!1,dblclickTimeSpan:250,width:250,height:20,titleWidth:73,readonly:!1},a(window).on("load",function(){a(".eb_input").each(function(){var b=a(this),c=b.data("options");b.input(c?new Function("return {"+c+"}")():a.fn.input.defaults)})})}(window.jQuery),!function(a){"use strict";var b=a.cri,c=a.jQuery,d={label:null,button:null,value:null},e="input-group",f="input-btn",g="with-btn",h=b.Widgets.extend(function(){this.options=d,this.$inputGroup=null,b.Widgets.apply(this,arguments)});c.extend(h.prototype,{_eventListen:function(){},_init:function(){this._createInputGroup()},_createInputGroup:function(){var a=this.options,b=a.label||"",d=c("<label></label>").text(b),h=this.$element;h.wrap('<div class="'+e+'"></div>'),null!=a.value&&h.val(a.value);var i=h.parent();if(this.$inputGroup=i,a.button){var j=c('<i class="'+f+" "+a.button.iconCls+'"></i>').on("click",function(){a.button.handler.call()});i.append(j),h.addClass(g)}i.prepend(d)},_destory:function(){var a=this.$element;this.$inputGroup.replaceWith(a)}}),b.Input=h,c.fn.input=function(a){var b=null;return this.each(function(){var b=c(this),d=b.data("input"),e="object"==typeof a&&a;null!=d&&d._destory(),b.data("input",d=new h(this,e))}),b}}(window),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.marquee.defaults,c),this.$element=a(b),this.scrollInterval=null,this.contentInterval=null,this.$one=null,this.$two=null,this.ita=0,this.init()
};b.prototype={eventListen:function(){var a=this;this.$element.on("mouseenter",function(){clearInterval(a.scrollInterval)}).on("mouseleave",function(){a.start()})},init:function(){var a=this;this.ita=0,this.options.content.length>0&&(this.createEle(),this.contentInterval=window.setInterval(function(){a.start()},3e3),this.eventListen())},createEle:function(){this.$one||this.$element.append('<div class="contentOne"></div>'),this.$two||this.$element.append('<div class="contentTwo"></div>'),this.$one=a(".contentOne",this.$element),this.$two=a(".contentTwo",this.$element),this.options.content&&(this.$one.html("<span>"+this.options.content[0].text+"</span>"),this.$two.html("<span>"+this.options.content[0].text+"</span>"))},start:function(){this.ita++,this.ita>=this.options.content.length&&(this.ita=0),this.$two.html("<span>"+this.options.content[this.ita].text+"</span>"),this.$element.scrollTop(0),clearInterval(this.scrollInterval);var a=this;this.scrollInterval=window.setInterval(function(){a.scroll()},20)},stop:function(){clearInterval(this.contentInterval)},scroll:function(){this.$element.scrollTop(this.$element.scrollTop()+1),this.$element.scrollTop%20==20&&clearInterval(this.scrollInterval)},refreshContent:function(a){this.options.content=a,this.init()}},a.fn.marquee=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("marquee"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("marquee",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.marquee.defaults={content:[],delayTime:3e3,height:20},a(window).on("load",function(){a("[class='marquee']").each(function(){var b=a(this),c=b.data("options");c&&b.marquee(new Function("return {"+c+"}")())})})}(window.jQuery),!function(a){var b=function(){this.messagerQueue=[];var b=this;window.MessagerOkBtn=function(){a("#EASYBOOTSTARPMSGWND").popoutWindow("hide"),a("#EASYBOOTSTARPMSGWND").html("");var c=b.messagerQueue.pop();3==c.length&&c[2](!0)},window.MessagerCancelBtn=function(){a("#EASYBOOTSTARPMSGWND").popoutWindow("hide"),a("#EASYBOOTSTARPMSGWND").html("");var c=b.messagerQueue.pop();3==c.length&&c[2](!1)},window.MessagerCloseBtn=function(){a("#EASYBOOTSTARPMSGWND").popoutWindow("hide"),a("#EASYBOOTSTARPMSGWND").html("");var c=b.messagerQueue.pop();3==c.length&&c[2](!1)}};b.prototype={alert:function(b,c){this.messagerQueue.push(arguments);var d="EASYBOOTSTARPMSGWND";a("#EASYBOOTSTARPMSGWND").length>0||a("body").append('<div class="eb_popoutWindow" id="'+d+'"></div>');var e=a("#EASYBOOTSTARPMSGWND");e.html(c),e.popoutWindow({title:b,buttons:[{text:"确定",icon:"eb_iconOK",handler:"MessagerOkBtn"}],width:500,height:300,left:440,top:100}),e.popoutWindow("show")},confirm:function(b,c){this.messagerQueue.push(arguments);var d="EASYBOOTSTARPMSGWND";a("#EASYBOOTSTARPMSGWND").length>0||a("body").append('<div class="eb_popoutWindow" id="'+d+'"></div>');var e=a("#EASYBOOTSTARPMSGWND");e.html(c),e.popoutWindow({title:b,buttons:[{text:"确定",icon:"eb_iconOK",handler:"MessagerOkBtn"},{text:"取消",icon:"eb_iconCancel",handler:"MessagerCancelBtn"}],width:500,height:300,left:440,top:100}),e.popoutWindow("show")}},a.messager=new b}(jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.dataOptions=a.extend({},a.fn.msgWindow.defaults,c),this.title="系统消息",this.$element.attr("title")&&(this.title=this.$element.attr("title")),this.dataOptions.title&&(this.title=this.dataOptions.title),this.id=this.$element.attr("id"),(!this.$element.attr("class")||this.$element.attr("class").indexOf("inited")<0)&&this.init()};b.prototype.refreshInit=function(b){var c=this;this.dataOptions=a.extend(c.dataOptions,b),b&&b.html&&this.html(b.html),b&&b.width&&this.setWidth(b.width),b&&b.height&&this.setHeight(b.height)},b.prototype.init=function(){var b=this;this.windowObj=this.$element,(!this.windowObj.attr("class")||this.windowObj.attr("class").indexOf("eb_msgWindow")<0)&&this.windowObj.addClass("eb_msgWindow"),this.windowObj.addClass("inited"),this.windowObj.wrap(a('<div class="eb_msgWindowGroup"></div>')),this.parent=this.windowObj.parent(),this.parent.prepend(a('<span class="eb_title">'+b.title+'</span><span class="eb_closeMsgWindowBtn">x</span>')),this.titleObj=this.parent.children(".eb_title"),this.closeBtnObj=this.parent.children(".eb_closeMsgWindowBtn"),this.closeBtnObj.mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")}).click(function(){b.hide()}),this.dataOptions&&this.dataOptions.html&&this.windowObj.html(b.dataOptions.html),this.setWidth(),this.setHeight()},b.prototype.html=function(a){this.$element.html(a)},b.prototype.show=function(){var a=this;if(clearTimeout(a.autoHideTimeoutId),this.parent.fadeIn(300),1==this.dataOptions.autoHide){var b=this.dataOptions.autoHideTime;this.autoHideTimeoutId=setTimeout(function(){a.parent.fadeOut(300)},b)}},b.prototype.hide=function(){this.parent.hide()},b.prototype.remove=function(){this.parent.remove()},b.prototype.setWidth=function(a){var b=this.dataOptions.width;a&&(b=a),"string"==typeof b&&(b=b.split("px")[0]),this.parent.width(b),this.windowObj.width(b-22),this.titleObj.width(b-1)},b.prototype.setHeight=function(a){var b=this.dataOptions.height;a&&(b=a),"string"==typeof b&&(b=b.split("px")[0]),this.parent.height(b),this.windowObj.height(b-46)},a.msgWindow=function(b,c,d,e){var f,g;c||(c="系统消息"),a("body").prepend(d?f=a('<div class="eb_msgWindow" data-options="title:\''+c+'\'"><a href="'+d+'">'+b+"</a></div>"):f=a('<div class="eb_msgWindow" data-options="title:\''+c+"'\">"+b+"</div>"));var h="title:'"+c+"',",i=[];for(var j in e)i.push(j);for(var j=0;j<i.length;j++)h=j<i.length-1?h+i[j]+":"+e[i[j]]+",":h+i[j]+":"+e[i[j]];return f.data("options",h),f.each(function(){var b=a(this),c=b.data("options");g=b.msgWindow(c?new Function("return {"+c+"}")():a.fn.msgWindow.defaults)}),f.msgWindow("show"),g},a.fn.msgWindow=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("msgWindow"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):g?g.refreshInit(c):f.data("msgWindow",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.msgWindow.defaults={width:220,height:150,autoHide:!1,autoHideTime:5e3},a(window).on("load",function(){a(".eb_msgWindow").not(".inited").each(function(){var b=a(this),c=b.data("options");b.msgWindow(c?new Function("return {"+c+"}")():a.fn.msgWindow.defaults)})})}(window.jQuery),!function(a){"use strict";var b=a.cri,c=a.jQuery,d={page:1,pageSize:10,total:0,rowsLen:0,onPage:null,onUpdate:null},e="first-page",f="prev-page",g="next-page",h="last-page",i="pager-number",j="pager-nav",k="pager-info",l="state-disabled",m="state-selected",n=b.Widgets.extend(function(){this.options=d,this.pager=null,b.Widgets.apply(this,arguments)});c.extend(n.prototype,{_eventListen:function(){var a=this;this.$pager.on("click","a:not('."+l+"')",function(b){var d=c(b.target).closest("a"),e=d.data("page");a._page(e)})},_init:function(){this._createPager(this.$element)},_createPager:function(a){var b=this.$pager=c("<div></div>").addClass("pager");b.append(this._createPagerBtn()).append(this._createPagerInfo()),a.append(b)},_createPagerBtn:function(){var a=this.options,b=a.pageSize||10,d=a.total||0,k=parseInt(a.page)||1,l=Math.ceil(d/b),m=c("<div></div>").addClass(j),n=c("<a></a>").addClass(e).append('<span class="fa fa-angle-double-left"></span>'),o=c("<a></a>").addClass(f).append('<span class="fa fa-angle-left"></span>'),p=c("<a></a>").addClass(g).append('<span class="fa fa-angle-right"></span>'),q=c("<a></a>").addClass(h).append('<span class="fa fa-angle-double-right"></span>'),r=c("<ul></ul>").addClass(i);return this._fourBtn(n,o,p,q,k,l),this._numberPage(r,k,l),m.append(n).append(o).append(r).append(p).append(q),m},_updatePagerBtn:function(){var a=this.options,b=a.pageSize||10,d=a.total||0,k=parseInt(a.page)||1,l=Math.ceil(d/b),m=c("."+j,this.$pager),n=c("."+e,m),o=c("."+f,m),p=c("."+g,m),q=c("."+h,m),r=c("."+i,m);this._fourBtn(n,o,p,q,k,l),r.empty(),this._numberPage(r,k,l)},_fourBtn:function(a,b,c,d,e,f){var g=e+1,h=e-1;1>=e?(a.addClass(l),b.addClass(l)):(a.removeClass(l).data("page",1),b.removeClass(l).data("page",h)),e>=f?(c.addClass(l),d.addClass(l)):(c.removeClass(l).data("page",g),d.removeClass(l).data("page",f))},_numberPage:function(a,b,d){for(var e=-2;3>e;e++){var f=e+b;if(f>0&&d>=f){var g=c("<li></li>"),h=c("<a></a>").data("page",f).text(f);h.addClass(f!=b?"pager-num":m),a.append(g.append(h))}}},_updatePagerInfo:function(){var a=this.options,b=a.pageSize||10,d=a.total||0,e=parseInt(a.page)||1,f=(e-1)*b+1,g=(e-1)*b+a.rowsLen,h=this.$pager,i=c("."+k,h);i.text(f+" - "+g+" of "+d+" items")},_createPagerInfo:function(){var a=this.options,b=a.pageSize||10,d=a.total||0,e=parseInt(a.page)||1,f=(e-1)*b+1,g=(e-1)*b+a.rowsLen;return c("<div></div>").addClass(k).text(f+" - "+g+" of "+d+" items")},_page:function(a){var b=this.options;b.page=a,this.options.onPage.call(this,b.page,b.pageSize)},update:function(a,b,c,d){var e=this.options;e.total=c,e.rowsLen=d,e.page=a,e.pageSize=b,this._updatePagerBtn(),this._updatePagerInfo(),e.onUpdate&&e.onUpdate(this)}}),b.Pager=n}(window),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.dataOptions=a.extend({},a.fn.panel.defaults,c),this.title="",this.$element.attr("title")&&(this.title=this.$element.attr("title")),this.dataOptions.title&&(this.title=this.dataOptions.title),this.id=this.$element.attr("id"),this.init()};b.prototype.init=function(){var b=this;this.$element.wrap(a('<div class="eb_panelGroup"></div>')),this.parent=this.$element.parent(),this.parent.data("panel",b.$element.data("panel")),this.parent.data("options",b.$element.data("options")),this.parent.prepend(a('<div class="eb_panelTitleBar">'+b.title+"</div>")),this.titleBarObj=this.parent.children(".eb_panelTitleBar"),this.setWidth(),this.setHeight()},b.prototype.setWidth=function(a){var b=600;this.$element.css("width")&&(b=this.$element.css("width")),this.dataOptions.width&&(b=this.dataOptions.width),a&&(b=a),"string"==typeof b&&(b=b.split("px")[0]),this.parent.width(b),this.$element.width(b-2),this.titleBarObj.width(b-2)},b.prototype.setHeight=function(a){var b=80;this.$element.css("height")&&(b=this.$element.css("height")),this.dataOptions.height&&(b=this.dataOptions.height),a&&(b=a),"string"==typeof b&&(b=b.split("px")[0]),this.parent.height(b),this.$element.height(b-26)},a.fn.panel=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("panel"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("panel",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.panel.defaults={width:600,height:80},a(window).on("load",function(){a(".eb_panel").each(function(){var b=a(this),c=b.data("options");b.panel(c?new Function("return {"+c+"}")():a.fn.panel.defaults)})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.dataOptions=a.extend({},a.fn.popoutWindow.defaults,c),this.title=this.dataOptions.title||this.$element.attr("title")||"",this.id=this.$element.attr("id"),this.funcArr={},this.init()};b.prototype.init=function(){var b=this;if(this.$element.wrap('<div class="eb_popoutWindowGroup" id="'+b.id+'_subgroup"></div>'),this.parent=this.$element.parent(),this.parent.data("popoutWindow",b),b.$element.data("form")&&this.parent.data("form",b.$element.data("form")),this.popoutWindowObj=this.$element,this.parent.prepend('<div class="eb_title">'+b.title+'<span class="eb_closeWindowButton">x</span></div>'),this.titleObj=this.parent.children(".eb_title"),this.dataOptions.closeHandler){var c=this.dataOptions.closeHandler;"string"==typeof c&&(c=window[c]),b.titleObj.find(".eb_closeWindowButton").click(function(){c()})}if(this.parent.append('<div class="eb_buttonsBar"></div>'),this.buttonsBar=this.parent.children(".eb_buttonsBar"),this.buttonsArr=this.dataOptions.buttons,"string"==typeof this.buttonsArr&&(this.buttonsArr=window[b.buttonsArr]),b.buttonsArr)for(var d=0;d<b.buttonsArr.length;d++){var e=b.buttonsArr[d],c=e.handler;"string"==typeof c&&(c=window[c]),b.funcArr[d]=c;var f=a('<span class="eb_buttons" funcIndex="'+d+'"></span>');e.icon&&f.append('<i class="eb_icon '+e.icon+'"></i>'),f.append(e.text),f.on("click",function(){var c=this;b.funcArr[a(c).attr("funcIndex")]()}),this.buttonsBar.prepend(f)}this.buttonsObj=this.buttonsBar.children(".eb_buttons"),this.dataOptions.fullScreen?this.setFullScreen():(this.setWidth(),this.setHeight()),this.setPosition(),this.setStyle()},b.prototype.show=function(b){var c=this;if("none"==this.parent.css("display")){if(this.popoutWindowObj.children("iframe.eb_iframe").length<=0&&(b||this.dataOptions.url||this.popoutWindowObj.attr("url")||this.popoutWindowObj.children("div.eb_iframe").length>0)){this.src="",this.popoutWindowObj.children("div.eb_iframe").length>0&&(this.src=this.popoutWindowObj.children("div.eb_iframe").attr("src")),this.popoutWindowObj.attr("url")&&(this.src=this.popoutWindowObj.attr("url")),this.dataOptions.url&&(this.src=this.dataOptions.url),b&&(this.src=b);var d='<iframe id="eb_iframe_'+this.id+'" class="eb_iframe" src="'+this.src+'" style="margin:auto" ></iframe>';this.popoutWindowObj.html(d),this.iframeObj=this.popoutWindowObj.children("iframe.eb_iframe"),this.iframeObj.width(c.popoutWindowObj.width()-5).height(c.popoutWindowObj.height()-5)}else if(this.popoutWindowObj.children("iframe.eb_iframe").length>0){b&&(this.src=b);var d='<iframe id="eb_iframe_'+this.id+'" class="eb_iframe" src="'+this.src+'" style="margin:auto" ></iframe>';this.popoutWindowObj.html(d),this.iframeObj=this.popoutWindowObj.children("iframe.eb_iframe"),this.iframeObj.width(c.popoutWindowObj.width()-5).height(c.popoutWindowObj.height()-5)}this.parent.parent().prepend('<div id="maskX" style="display: none"></div>'),a("#maskX").css({opacity:"0.3",display:"block",position:"absolute","background-color":"#fff","z-index":11}).width(document.body.clientWidth).height(document.body.clientHeight),this.setPosition(),this.parent.show()}},b.prototype.hide=function(){this.parent.hide(),a("#maskX").remove()},b.prototype.setPosition=function(b){if(1!=this.dataOptions.fullScreen){var c=a.fn.popoutWindow.defaults.top,d=a.fn.popoutWindow.defaults.left;this.dataOptions.top&&(c=this.dataOptions.top),"string"==typeof c&&(c=c.split("px")[0]),c+=a(window).scrollTop(),this.dataOptions.left&&(d=this.dataOptions.left),"string"==typeof d&&(d=d.split("px")[0]),b&&(b.top&&(c="string"==typeof b.top?b.top.split("px")[0]:b.top),b.left&&(d="string"==typeof b.left?b.left.split("px")[0]:b.left)),this.parent.css("top",c+"px").css("left",d+"px")}},b.prototype.setFullScreen=function(){var b=a(window).width();"string"==typeof b&&(b=b.split("px")[0]);var c=a(window).height();"string"==typeof c&&(c=c.split("px")[0]),this.parent.css("top",0).css("left",0),this.setWidth(b),this.setHeight(c),this.parent.css("border-radius","0")},b.prototype.setWidth=function(a){if(this.dataOptions.width){var b=this.dataOptions.width;a&&(b=a),"string"==typeof b&&(b=b.split("px")[0]),this.parent.width(b),this.titleObj.width(b),this.popoutWindowObj.width(b),this.buttonsBar.width(b)}},b.prototype.setHeight=function(a){if(this.dataOptions.height){var b=this.dataOptions.height;a&&(b=a),"string"==typeof b&&(b=b.split("px")[0]),this.parent.height(b),this.popoutWindowObj.height(b-61),this.buttonsBar.css("top",b-30+"px")}},b.prototype.setStyle=function(){var b=this;this.buttonsObj.each(function(){a(this).mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")}).mousedown(function(){a(this).addClass("mousedown")}).mouseup(function(){a(this).removeClass("mousedown")})}),this.titleObj.find(".eb_closeWindowButton").mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")}).click(function(){b.parent.hide(),a("#maskX").remove()})},a.fn.popoutWindow=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("popoutWindow"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):g||f.data("popoutWindow",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.popoutWindow.defaults={required:!1,dblclickTimeSpan:250,top:30,left:60},a(window).on("load",function(){a(".eb_popoutWindow").each(function(){var b=a(this),c=b.data("options");b.popoutWindow(c?new Function("return {"+c+"}")():a.fn.popoutWindow.defaults)})})}(window.jQuery),!function(a){"use strict";var b=a.cri,c=a.jQuery,d={label:"",data:null,optionLabel:"",value:null,text:null,change:null},e="selectBox-group",f="selectBox-body",g="selectBox-input",h="selectBox-btn",i="options",j="selected",k=b.Widgets.extend(function(){this.options=d,this.$selectBoxGroup=null,this.$selectBoxInput=null,this.$selectBoxOptions=null,this._value=null,this._text=null,b.Widgets.apply(this,arguments)});c.extend(k.prototype,{_eventListen:function(){},_init:function(){this._create()},_create:function(){this.$element.hide(),this.$element.wrap('<span class="'+e+'"></span>');var a=this.$selectBoxGroup=this.$element.parent();a.append("<label>"+this.options.label+"</label>"),a.append(this._createBody(),this._createOptions())},_createBody:function(){var a=c('<span class="'+f+'"></span>'),b=this.$selectBoxInput=c('<span class="'+g+'"></span>'),d=c('<i class="'+h+' fa fa-caret-down"></i>');return a.append(b,d),a.on("click",this._toggleOptions()),a},_createOptions:function(){var a=this._data(),b=this.$selectBoxOptions=c('<ul class="'+i+'"></ul>').hide();if(a)for(var d=0,e=a.length;e>d;d++)b.append(this._createOption(a[d]));return b},_createOption:function(a){var b=c("<li></li>").text(a.text),d=this;return b.on("click",function(){b.is("."+j)||(c("li."+j,d.$selectBoxOptions).removeClass(j),b.addClass(j),d._select(a.text,a.value),d.options.change&&d.options.change.call(d))}).on("click",d._toggleOptions()),b},_toggleOptions:function(){var a=this;return function(){return a.$selectBoxOptions.animate({height:"toggle"},200,function(){a.$selectBoxOptions.is(":hidden")||a._clickBlank()}),!1}},_clickBlank:function(){var a=this;c(document).mouseup(function(b){var c=a.$selectBoxGroup;c.is(b.target)||0!==c.has(b.target).length||a.$selectBoxOptions.animate({height:"hide"},200)})},_data:function(){var a=this.options.data;return a||(a=[],c("option",this.$element).each(function(){var b=c(this).text(),d=this.value;a.push({text:b,value:d})})),this.options.data=a,a},_select:function(a,b){var c=this.$element;c.is("select")&&c.val(b),this.$selectBoxInput.text(a),this._text=a,this._value=b},value:function(a){return arguments.length>0?(this._value=a,this.$element.val(a),this.$selectBoxInput.text(this.options.data[a]),void 0):this._value},text:function(a){if(!(arguments.length>0))return this._text;var b=null;for(var c in this.options.data)c.text===a&&(b=c.value||"");this._value=b,this.$element.val(b),this.$selectBoxInput.text(a)}}),b.SelectBox=k,c.fn.selectBox=function(a){var b=null;return this.each(function(){var d=c(this),e="object"==typeof a&&a;b=d.data("selectBox"),d.data("selectBox",b=new k(this,e))}),b}}(window),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.dataOptions=a.extend({},a.fn.tabPage.defaults,c),this.title=this.$element.attr("title"),this.id=this.$element.attr("id"),this.init()};b.prototype.setHeadBarView=function(a){var b=this.headBarObj.children(".eb_tabPageHead.on");a&&(b=a);var c=b.offset().left,d=b.offset().left+b.width()+61,e=this.headBarPanelObj.offset().left,f=this.headBarPanelObj.offset().left+this.headBarPanelObj.width();e>c?this.headMoveLeft(b):d>f&&this.headMoveRight(b)},b.prototype.headMoveLeft=function(b){var c=this,d=this.headBarPanelObj.offset().left,e=null,f=(this.headBarObj.offset().left,this.headBarObj.css("left"));"string"==typeof f&&(f=f.split("px")[0]);var g;b?e=b.offset().left:(this.headBarObj.children(".eb_tabPageHead").each(function(){var b=a(this).offset().left;-25>b-d&&(e=b)}),null==e&&(e=this.headBarObj.children(".eb_tabPageHead").first().offset().left));var g=d-e,h=parseInt(f)+parseInt(g);this.headBarObj.animate({left:h},200,"",function(){c.headBarObj.offset().left>=c.headBarPanelObj.offset().left?c.leftBtnObj.children(".eb_arrow02L").hide():c.leftBtnObj.children(".eb_arrow02L").show(),c.headBarObj.offset().left+c.headBarObj.width()<=c.headBarPanelObj.offset().left+c.headBarPanelObj.width()?c.rightBtnObj.children(".eb_arrow02R").hide():c.rightBtnObj.children(".eb_arrow02R").show()})},b.prototype.headMoveRight=function(b){var c,d,e=this,f=this.headBarPanelObj.offset().left+this.headBarPanelObj.width(),g=f,h=parseInt(this.headBarObj.css("left"));this.headBarObj.children(".eb_tabPageHead").each(function(){var b=a(this).offset().left;f+25>=b&&(g=b,d=a(this))}),d.length<=0&&(d=this.headBarObj.children(".eb_tabPageHead").last()),b&&(d=b,g=b.offset().left),c=g+(d.width()+61);var i=c-f,j=h-i;this.headBarObj.animate({left:j},200,"",function(){e.headBarObj.offset().left>=e.headBarPanelObj.offset().left?e.leftBtnObj.children(".eb_arrow02L").hide():e.leftBtnObj.children(".eb_arrow02L").show(),e.headBarObj.offset().left+e.countWidth()<=e.headBarPanelObj.offset().left+e.headBarPanelObj.width()?e.rightBtnObj.children(".eb_arrow02R").hide():e.rightBtnObj.children(".eb_arrow02R").show()})},b.prototype.toggleHeadBtn=function(){var a=this.parent.width(),b=this.countWidth();b>a-14?(this.headBarPanelObj.width(a-16).css("left","8px"),this.leftBtnObj.show(),this.rightBtnObj.show()):(this.headBarPanelObj.width(a-2).css("left","0"),this.leftBtnObj.hide(),this.rightBtnObj.hide(),this.headBarObj.css("left","0"))},b.prototype.countWidth=function(){var b=(this.parent.width(),0);return this.headBarObj.children(".eb_tabPageHead").each(function(){b=b+a(this).width()+61}),b},b.prototype.setWidth=function(b){var c;this.dataOptions.width&&(c=this.dataOptions.width),b&&(c=b),"string"==typeof c&&(c=c.split("px")[0]),this.parent.width(c),this.headBarPanelObj.width(c-2),this.headBarBGObj.width(c-2),this.parent.children(".eb_tabPageBody").each(function(){a(this).width(c-2)}),this.parent.children(".eb_tabPageBody").children(".eb_iframe").each(function(){a(this).width(c-2)}),this.toggleHeadBtn()},b.prototype.setHeight=function(b){var c;this.dataOptions.height&&(c=this.dataOptions.height),b&&(c=b),"string"==typeof c&&(c=c.split("px")[0]),this.parent.height(c),this.parent.children(".eb_tabPageBody").each(function(){a(this).height(c-37)}),this.parent.children(".eb_tabPageBody").children(".eb_iframe").each(function(){a(this).height(c-37)})},b.prototype.remove=function(b){var c=this,d=this.headBarObj.children('.eb_tabPageHead[name="'+b+'"]').attr("class"),e=this.parent.children('.eb_tabPageBody[name="'+b+'"]').next();if(this.parent.children('.eb_tabPageBody[name="'+b+'"]').remove(),this.headBarObj.children('.eb_tabPageHead[name="'+b+'"]').remove(),d.indexOf(" on")>=0){var b="";if(e.length>0)b=e.attr("name");else{var f=c.headBarObj.get(0).getElementsByTagName("span"),g=f[f.length-1];b=a(g).attr("name")}this.select(b)}var h=this.headBarObj.children(".eb_tabPageHead").last();h.length>0&&h.offset().left+h.width()<this.headBarPanelObj.offset().left+this.headBarPanelObj.width()&&this.countWidth()>this.headBarPanelObj.width()-14&&this.headMoveRight(h),this.toggleHeadBtn()},b.prototype.removeByNum=function(b){var c=this,d=c.headBarObj.get(0).getElementsByTagName("span");if(0>b||b>d.length-1)return alert('$(selecter).tabPage("remove",num) 方法输入的数字超出范围！'),!1;var e=d[b],f=a(e).attr("name");this.remove(f)},b.prototype.select=function(b){var c=this;if(this.headBarObj.children('.eb_tabPageHead[name="'+b+'"]').length>0&&this.headBarObj.children('.eb_tabPageHead[name="'+b+'"]').attr("class").indexOf(" on")<0){var d=this.headBarObj.children('.eb_tabPageHead[name="'+b+'"]');c.headBarObj.find(".on").removeClass("on"),a(d).addClass("on"),c.parent.find(".eb_tabPageBody").hide();var e=c.getBody(a(d));if(e.children("div.eb_iframe").length>0){var f="",g="";f=e.children(".eb_iframe").attr("src"),g=g+'<iframe src="'+f+'" class="eb_iframe"></iframe>',e.html(g)}e.show(),this.setHeadBarView()}},b.prototype.selectByNum=function(b){var c=this,d=c.headBarObj.get(0).getElementsByTagName("span");if(0>b||b>d.length-1)return alert('$(selecter).tabPage("remove",num) 方法输入的数字超出范围！'),!1;var e=d[b],f=a(e).attr("name");this.select(f)},b.prototype.add=function(b){var c=this,d=[];"array"==isArray(b)?d=b:"object"==isArray(b)?d[0]=b:alert("$(selecter).tabPage('add',param) 方法传入参数错误！");for(var e=0;e<d.length;e++){var f=d[e];this.headBarObj.children('.eb_tabPageHead[name="'+f.name+'"]').length>0?c.select(f.name):(this.parent.append(a('<div class="eb_tabPageBody" style="display:none" name="'+f.name+'"><iframe src="'+f.src+'" class="eb_iframe"></iframe></div>')),this.headBarObj.append(a('<span class="eb_tabPageHead" name="'+f.name+'">'+f.title+"</span>").click(function(){var b=this;a(this).attr("class").indexOf(" on")<0&&(c.headBarObj.find(".on").removeClass("on"),a(this).addClass("on"),c.parent.find(".eb_tabPageBody").hide(),c.getBody(a(b)).show()),c.setHeadBarView()}).append(a('<div class="eb_tabPageCloseBtn">x</div>').click(function(){var b=a(this).parent().attr("name");c.remove(b)}).mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")})).mouseover(function(){a(this).children(".eb_tabPageCloseBtn").show()}).mouseout(function(){a(this).children(".eb_tabPageCloseBtn").hide()})),this.countWidth()>this.headBarPanelObj.width()-14&&(h=this.headBarObj.children(".eb_tabPageHead").last(),this.headMoveRight(h)))}var g=d[d.length-1].name;this.select(g),this.setWidth(c.parent.width()),this.setHeight(c.parent.height()),this.toggleHeadBtn();var h=null},b.prototype.init=function(){var b=this;this.parent=this.$element,this.parent.children("div").each(function(){a(this).addClass("eb_tabPageBody")}),this.parent.prepend(a('<div class="eb_headBar"></div>')),this.headBarObj=this.parent.children(".eb_headBar"),this.headBarObj.wrap(a('<div class="eb_headBarPanel"></div>')),this.headBarPanelObj=this.headBarObj.parent(),this.headBarPanelObj.wrap(a('<div class="eb_headBarBG"></div>')),this.headBarBGObj=this.headBarPanelObj.parent(),this.headBarBGObj.prepend(a('<div class="eb_headBarLeftBtn"><div class="eb_arrow02L"></div></div>').mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")}).mousedown(function(){a(this).addClass("mousedown")}).mouseup(function(){a(this).removeClass("mousedown")}).click(function(){b.headMoveLeft()})).append(a('<div class="eb_headBarRightBtn"><div class="eb_arrow02R"></div></div>').mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")}).mousedown(function(){a(this).addClass("mousedown")}).mouseup(function(){a(this).removeClass("mousedown")}).click(function(){b.headMoveRight()})),this.leftBtnObj=this.headBarBGObj.children(".eb_headBarLeftBtn"),this.rightBtnObj=this.headBarBGObj.children(".eb_headBarRightBtn"),this.bodyObjArr={},this.parent.children(".eb_tabPageBody").each(function(){var c=this;b.bodyObjArr[a(c).attr("name")]=a(this)});for(var c in this.bodyObjArr){var d="",e=null;this.bodyObjArr[c].attr("title")&&(d=this.bodyObjArr[c].attr("title")),this.bodyObjArr[c].data("options")&&(e=new Function("return {"+this.bodyObjArr[c].data("options")+"}")())&&e.title&&(d=e.title),this.headBarObj.append(a('<span class="eb_tabPageHead" name="'+c+'">'+d+"</span>").click(function(){if(a(this).attr("class").indexOf(" on")<0){var c=a(this).attr("name");b.select(c)}b.setHeadBarView()}).append(a('<div class="eb_tabPageCloseBtn">x</div>').click(function(){var c=a(this).parent().attr("name");b.remove(c)}).mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")})).mouseover(function(){a(this).children(".eb_tabPageCloseBtn").show()}).mouseout(function(){a(this).children(".eb_tabPageCloseBtn").hide()}))}this.headObjArr={},this.headBarObj.children(".eb_tabPageHead").each(function(){var c=this;b.headObjArr[a(c).attr("name")]=a(this)}),this.headBarObj.children(".eb_tabPageHead").first().addClass("on"),this.getBody(b.headBarObj.children(".eb_tabPageHead").first()).show(),this.setWidth(),this.setHeight(),this.toggleHeadBtn()},b.prototype.getBody=function(a){var b=a.attr("name"),c=this.parent.children(".eb_tabPageBody[name='"+b+"']");return c},b.prototype.getBodyByNum=function(b){var c=this,d=c.headBarObj.get(0).getElementsByTagName("span").length;b>=d?b=d-1:0>b&&(b=0);var e=a(c.headBarObj.get(0).getElementsByTagName("span")[b]).attr("name"),f=this.parent.children(".eb_tabPageBody[name='"+e+"']");return f},b.prototype.setAction=function(){},a.fn.tabPage=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("tabPage"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("tabPage",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.tabPage.defaults={},a(window).on("load",function(){a(".eb_tabPage").each(function(){var b=a(this),c=b.data("options");b.tabPage(c?new Function("return {"+c+"}")():a.fn.tabPage.defaults)})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){var d=this;this.$element=a(b),this.dataOptions=a.extend({},a.fn.textarea.defaults,c),this.value=this.$element.val(),this.title="",this.$element.attr("title")&&(this.title=this.$element.attr("title")),this.dataOptions.title&&(this.title=this.dataOptions.title),this.id=this.$element.attr("id"),this.name=this.$element.attr("name"),this.placeholder=this.$element.attr("placeholder")?this.$element.attr("placeholder"):"",this.init(),this.setStyle(),this.$element.change(function(){d.check()})};b.prototype.check=function(){var a={length:0,result:!0},b=this.$element.val();return 1==this.dataOptions.required&&(b||(a.required="fail",a.result=!1,a.length++)),a},b.prototype.init=function(){var b=this;this.$element.wrap(a('<div class="eb_textareaGroup" name="'+b.name+'" value="'+b.value+'" data-options="'+b.$element.data("options")+'" id="'+b.id+'_subgroup"></div>')),this.parent=this.$element.parent(),this.parent.data("textarea",b),this.parent.prepend('<div class="eb_title">'+this.title+"</div>"),this.titleObj=this.parent.children(".eb_title"),this.textareaObj=this.$element,this.dataOptions.defaultVal&&this.textareaObj.val(b.dataOptions.defaultVal),1==this.dataOptions.required&&(this.textareaObj.attr("placeholder",b.placeholder+"（必填）"),this.parent.append('<span class="redStar">*</span>')),this.style=this.textareaObj.attr("style"),this.parent.attr("style",b.style),this.setWidth(),this.setHeight(),this.setEvent()},b.prototype.setWidth=function(){if(this.dataOptions.width){var a=this.dataOptions.width;"string"==typeof a&&(a=a.split("px")[0]),this.parent.width(a),this.textareaObj.width(a-86)}if(this.dataOptions.titleWidth||0==this.dataOptions.titleWidth){var b=this.dataOptions.titleWidth;"string"==typeof b&&(b=b.split("px")[0]);var a=this.parent.width(),c=a-b-13;this.textareaObj.width(c),this.titleObj.width(b)}},b.prototype.setValue=function(a){this.textareaObj.val(a),this.parent.attr("value",a)},b.prototype.getValue=function(){return this.textareaObj.val()},b.prototype.clearValue=function(){this.setValue("")},b.prototype.setHeight=function(){if(this.dataOptions.height){var a=this.dataOptions.height;"string"==typeof a&&(a=a.split("px")[0]),this.parent.height(a),this.textareaObj.height(a-6)}},b.prototype.setStyle=function(){var a=this;this.textareaObj.focus(function(){a.textareaObj.addClass("focus")}).blur(function(){a.textareaObj.removeClass("focus")})},b.prototype.check=function(){var a=this,b={length:0,result:!0},c=this.$element.val();return 1==this.dataOptions.required&&(c||(b.required="fail",b.result=!1,b.length++)),"numOnly"==this.dataOptions.validtype&&(this.setNumOnly()?a.value=a.getValue():(b.numOnly="fail",b.result=!1,b.length++,a.setValue(a.value))),b},b.prototype.setEvent=function(){var a=250;this.dataOptions.dblclickTimeSpan&&(a=this.dataOptions.dblclickTimeSpan);var b=this,c=null,d=null,e=null,f=!1,g=!1,h=!1;this.dataOptions.onclickHandler&&(this.textareaObj.get(0).onclick=this.dataOptions.ondblclickHandler?"string"==typeof this.dataOptions.onclickHandler?function(){f||(c=setTimeout(window[this.dataOptions.onclickHandler],a),f=!0,setTimeout(function(){f=!1
},a))}:function(){f||(c=setTimeout(b.dataOptions.onclickHandler,a),f=!0,setTimeout(function(){f=!1},a))}:"string"==typeof this.dataOptions.onclickHandler?window[this.dataOptions.onclickHandler]:b.dataOptions.onclickHandler),this.dataOptions.onmousedownHandler&&(this.textareaObj.get(0).onmousedown=this.dataOptions.ondblclickHandler?"string"==typeof this.dataOptions.onmousedownHandler?function(){g||(d=setTimeout(window[this.dataOptions.onmousedownHandler],a),g=!0,setTimeout(function(){g=!1},a))}:function(){g||(d=setTimeout(b.dataOptions.onmousedownHandler,a),g=!0,setTimeout(function(){g=!1},a))}:"string"==typeof this.dataOptions.onmousedownHandler?window[this.dataOptions.onmousedownHandler]:b.dataOptions.onmousedownHandler),this.dataOptions.onmouseupHandler&&(this.textareaObj.get(0).onmouseup=this.dataOptions.ondblclickHandler?"string"==typeof this.dataOptions.onmouseupHandler?function(){h||(e=setTimeout(window[this.dataOptions.onmouseupHandler],a),h=!0,setTimeout(function(){h=!1},a))}:function(){h||(e=setTimeout(b.dataOptions.onmouseupHandler,a),h=!0,setTimeout(function(){h=!1},a))}:"string"==typeof this.dataOptions.onmouseupHandler?window[this.dataOptions.onmouseupHandler]:b.dataOptions.onmouseupHandler),this.dataOptions.ondblclickHandler&&(this.textareaObj.get(0).ondblclick="string"==typeof this.dataOptions.ondblclickHandler?function(){c&&(clearTimeout(c),c=null),d&&(clearTimeout(d),d=null),e&&(clearTimeout(e),e=null),window[b.dataOptions.ondblclickHandler]()}:function(){c&&(clearTimeout(c),c=null),d&&(clearTimeout(d),d=null),e&&(clearTimeout(e),e=null),b.dataOptions.ondblclickHandler()}),this.dataOptions.onfocusHandler&&(this.textareaObj.get(0).onfocus="string"==typeof this.dataOptions.onfocusHandler?window[this.dataOptions.onfocusHandler]:this.dataOptions.onfocusHandler),this.dataOptions.onblurHandler&&(this.textareaObj.get(0).onblur="string"==typeof this.dataOptions.onblurHandler?window[this.dataOptions.onblurHandler]:this.dataOptions.onblurHandler),this.dataOptions.onkeypressHandler&&(this.textareaObj.get(0).onkeypress="string"==typeof this.dataOptions.onkeypressHandler?window[this.dataOptions.onkeypressHandler]:this.dataOptions.onkeypressHandler),this.dataOptions.onkeydownHandler&&(this.textareaObj.get(0).onkeydown="string"==typeof this.dataOptions.onkeydownHandler?window[this.dataOptions.onkeydownHandler]:this.dataOptions.onkeydownHandler),this.dataOptions.onkeyupHandler&&(this.textareaObj.get(0).onkeyup="string"==typeof this.dataOptions.onkeyupHandler?window[this.dataOptions.onkeyupHandler]:this.dataOptions.onkeyupHandler),this.dataOptions.onchangeHandler&&(this.textareaObj.get(0).onchange="string"==typeof this.dataOptions.onchangeHandler?window[this.dataOptions.onchangeHandler]:this.dataOptions.onchangeHandler)},a.fn.textarea=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("textarea"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("textarea",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.textarea.defaults={required:!1,dblclickTimeSpan:250,width:250,height:90,titleWidth:73},a(window).on("load",function(){a(".eb_textarea").each(function(){var b=a(this),c=b.data("options");b.textarea(c?new Function("return {"+c+"}")():a.fn.textarea.defaults)})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$element.keypress(function(){return!1}).val(""),this.dataOptions=a.extend({},a.fn.timeInput.defaults,c),this.name=this.$element.attr("name"),this.id=this.$element.attr("id"),this.thisYear=(new Date).getFullYear(),this.thisMonth=(new Date).getMonth()+1,this.thisMonth<10&&(this.thisMonth="0"+this.thisMonth),this.today=(new Date).getDate(),this.year=(new Date).getFullYear(),this.month=(new Date).getMonth()+1,this.month<10&&(this.month="0"+this.month),this.monthArr=new Array,this.ifEnable=!0,this.value="",this.id=this.$element.attr("id"),this.timeBoxId="timeBox_"+this.id,this.title="时间",this.$element.attr("title")&&(this.title=this.$element.attr("title")),this.dataOptions.title&&(this.title=this.dataOptions.title),this.init()};b.prototype.enabled=function(){this.ifEnable=!0},b.prototype.disabled=function(){this.ifEnable=!1},b.prototype.setWidth=function(a){var b=this.dataOptions.width;if(a&&(b=a),"string"==typeof b&&(b=b.split("px")[0]),this.parent.width(b),this.inputObj.width(b-85),this.dataOptions.titleWidth||0==this.dataOptions.titleWidth){var c=this.dataOptions.titleWidth;"string"==typeof c&&(c=c.split("px")[0]),c-=1;var d=b-c-13;this.inputObj.width(d),this.titleObj.width(c)}},b.prototype.setHeight=function(a){var b=this.dataOptions.height;a&&(b=a),"string"==typeof b&&(b=b.split("px")[0]),this.parent.height(b),this.parent.css("line-height",b+"px"),this.inputObj.height(b-2),this.inputObj.css("line-height",b-2+"px"),this.titleObj.height(b),this.titleObj.css("line-height",b+"px")},b.prototype.init=function(){var b=this;1==this.dataOptions.required&&this.$element.attr("placeholder",b.$element.attr("placeholder")+" (必填)"),this.inputObj=this.$element,this.inputObj.wrap(a('<div class="eb_timeInputGroup"></div>')),this.parent=this.inputObj.parent(),this.parent.data("timeInput",b),this.parent.attr("name",b.name).attr("id",b.id+"_subgroup"),this.parent.data("options",b.$element.data("options")),this.dataOptions&&this.dataOptions.defaultVal&&(this.inputObj.val(b.dataOptions.defaultVal),this.parent.attr("value",b.dataOptions.defaultVal)),this.parent.prepend(a('<span class="eb_title">'+b.title+"</span>")),this.titleObj=this.parent.children(".eb_title"),this.dataOptions&&1==this.dataOptions.required&&this.parent.append('<span class="redStar" style="color:red;">*</span>'),this.setWidth(),this.setHeight();var c="";c=c+'<div class="eb_timeBox" id="'+this.timeBoxId+'"></div>';var d=a(".eb_timeBoxArea");if(d.length<=0&&(a("body").prepend('<div class="eb_timeBoxArea"></div>'),d=a(".eb_timeBoxArea")),d.append(c),this.timeBoxObj=a("#"+b.timeBoxId),a("#"+this.timeBoxId).append('<div class="eb_titleBar"></div>'),this.titleBarObj=this.timeBoxObj.find(".eb_titleBar"),c="",c=c+'<div class="eb_yearSelecter"><span class="eb_toLastYear eb_yearButton">－</span><span class="eb_year">'+this.year+'</span>&nbsp;年<span class="eb_toNextYear eb_yearButton">＋</span></div>',a("#"+this.timeBoxId).find(".eb_titleBar").append(c),a("#"+this.timeBoxId).find(".eb_yearButton").each(function(){var b=this;a(b).mouseover(function(){a(b).addClass("mouseover")}).mouseout(function(){a(b).removeClass("mouseover")}).mousedown(function(){a(b).addClass("mousedown")}).mouseup(function(){a(b).removeClass("mousedown")})}),a("#"+this.timeBoxId).find(".eb_toLastYear").click(function(){b.year--,a("#"+b.timeBoxId).find(".eb_year").html(b.year),b.refreshDate()}),a("#"+this.timeBoxId).find(".eb_toNextYear").click(function(){b.year++,a("#"+b.timeBoxId).find(".eb_year").html(b.year),b.refreshDate()}),c="",c+='<select name="month" class="eb_monthSelect">',c+='<option value="01">01</option>',c+='<option value="02">02</option>',c+='<option value="03">03</option>',c+='<option value="04">04</option>',c+='<option value="05">05</option>',c+='<option value="06">06</option>',c+='<option value="07">07</option>',c+='<option value="08">08</option>',c+='<option value="09">09</option>',c+='<option value="10">10</option>',c+='<option value="11">11</option>',c+='<option value="12">12</option>',c+="</select>",this.titleBarObj.append(a(c)),this.titleBarObj.append('<span style="position:absolute;top:5px;right:23px;">月</span>'),this.monthSelectObj=this.titleBarObj.find(".eb_monthSelect"),this.monthSelectObj.val(b.thisMonth),this.monthSelectObj.change(function(){b.refreshDate()}),c="",c+="<table>",c+="<tr>",c+='<th class="eb_Sunday eb_red">日</th>',c+='<th class="eb_Monday">一</th>',c+='<th class="eb_Tuesday">二</th>',c+='<th class="eb_Wednesday">三</th>',c+='<th class="eb_Thursday">四</th>',c+='<th class="eb_Friday">五</th>',c+='<th class="eb_Saturday red">六</th>',c+="</tr>",c+="<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>",c+="<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>",c+="<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>",c+="<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>",c+="<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>",c+="<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>",c+="</table>",a("#"+this.timeBoxId).append(c),a("#"+this.timeBoxId).find("table td").each(function(){var b=this;a(b).mouseover(function(){a(b).addClass("eb_dateMouseover")}).mouseout(function(){a(b).removeClass("eb_dateMouseover")})}),this.$element.click(function(){a(".eb_dropdownMenu.eb_show").hide().removeClass("eb_show"),a(".eb_timeInput.focus").not(b.$element).removeClass("focus"),b.toggleBox()}),this.$element.focus(function(){b.$element.addClass("focus")}),this.refreshDate(),1==this.dataOptions.HMS){this.timeBoxObj.height(b.timeBoxObj.height()+30);var c="";c+='<div class="eb_HMSBar">',c+='<input class="eb_HMSInput eb_Hour" value="00" />&nbsp;时&nbsp;',c+='<input class="eb_HMSInput eb_minute"  value="00" />&nbsp;分&nbsp;',c+='<input class="eb_HMSInput eb_second"  value="00" />&nbsp;秒',c+="</div>",this.timeBoxObj.append(c),this.timeBoxObj.find(".eb_HMSInput").focus(function(){a(this).addClass("focus")}).blur(function(){a(this).removeClass("focus")}).focus(function(){a(this).select()}),this.timeBoxObj.find(".eb_HMSInput").keydown(function(b){{var c=b.keyCode||b.which||b.charCode;a(this).val()}return c>=48&&57>=c||8==c?!0:!1}),this.timeBoxObj.find(".eb_Hour").change(function(){var b=a(this).val();b>23?a(this).val("23"):0>b&&a(this).val("00")}),this.timeBoxObj.find(".eb_minute,.eb_second").change(function(){var b=a(this).val();b>59?a(this).val("59"):0>b&&a(this).val("00")}),this.timeBoxObj.append(a('<div class="timeInputOK">确定</div>').mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")}).click(function(){var a=b.timeBoxObj.find(".choosed").html();a||(a="1"),10>a&&1==a.length&&(a="0"+a);var c=b.year+"-"+b.month+"-"+a,d=b.timeBoxObj.find(".eb_Hour").val();10>d&&1==d.length&&(d="0"+d);var e=b.timeBoxObj.find(".eb_minute").val();10>e&&1==e.length&&(e="0"+e);var f=b.timeBoxObj.find(".eb_second").val();10>f&&1==f.length&&(f="0"+f);var g=d+":"+e+":"+f,h=c+"  "+g;b.setValue(h),b.timeBoxObj.hide().removeClass("show"),b.$element.change()})).append(a('<div class="timeInputCancel">取消</div>').mouseover(function(){a(this).addClass("mouseover")}).mouseout(function(){a(this).removeClass("mouseover")}).click(function(){b.timeBoxObj.hide().removeClass("show")}))}a(window).click(function(){b.$element.removeClass("focus"),a("#"+b.timeBoxId).removeClass("show").hide()}),this.$element.each(function(){a(this).click(function(a){a.stopPropagation()})}),a("#"+this.timeBoxId).each(function(){a(this).click(function(a){a.stopPropagation()})})},b.prototype.refreshDate=function(){var b=this;this.timeBoxObj.find(".choosed").removeClass("choosed"),a("#"+this.timeBoxId).find("table td").html("").unbind("click"),this.month=this.monthSelectObj.val();for(var c=this.getMonthArr(this.year)[this.month-1],d=new Date(this.year,this.month-1,1).getDay(),e=d%7,f=0;c>f;f++){if(a("#"+this.timeBoxId).find("table td").eq(e).html(f+1),this.dataOptions.defaultVal){var g=this.dataOptions.defaultVal;this.inputObj.val()&&(g=this.inputObj.val());var h=g.split(" ")[0],i=h.split("-")[0],j=h.split("-")[1],k=h.split("-")[2];0==k.indexOf("0")&&(k=k.split("0")[1]),this.year==i&&this.month==j&&f+1==k&&(a("#"+this.timeBoxId).find(".choosed").removeClass("choosed"),a("#"+this.timeBoxId).find("table td").eq(e).addClass("choosed"))}else this.year==this.thisYear&&this.month==this.thisMonth&&f+1==b.today&&(a("#"+this.timeBoxId).find(".choosed").removeClass("choosed"),a("#"+this.timeBoxId).find("table td").eq(e).addClass("choosed"));a("#"+this.timeBoxId).find("table td").eq(e).click(1!=b.dataOptions.HMS?function(){a("#"+b.timeBoxId).find(".choosed").removeClass("choosed"),a(this).addClass("choosed"),b.date=a(this).html(),b.date<10&&(b.date="0"+b.date);var c=b.year+"-"+b.month+"-"+b.date;b.setValue(c),b.timeBoxObj.hide().removeClass("show"),b.$element.change()}:function(){b.date=a(this).html(),b.date<10&&(b.date="0"+b.date);b.year+"-"+b.month+"-"+b.date;b.timeBoxObj.find(".choosed").removeClass("choosed"),a(this).addClass("choosed")}),e++}},b.prototype.isLeapYear=function(a){return a%4!=0||a%100==0&&a%400!=0?!1:!0},b.prototype.getMonthArr=function(a){return this.isLeapYear(a)?[31,29,31,30,31,30,31,31,30,31,30,31]:[31,28,31,30,31,30,31,31,30,31,30,31]},b.prototype.toggleBox=function(){this.locatBox();var b=a("#"+this.timeBoxId).attr("class");b.indexOf("show")>=0?a("#"+this.timeBoxId).removeClass("show").hide():(a(".eb_timeBoxArea .show").hide().removeClass("show"),1==this.ifEnable&&a("#"+this.timeBoxId).slideDown("fast").addClass("show"))},b.prototype.getValue=function(){return this.inputObj.val()},b.prototype.setValue=function(a){this.inputObj.val(a),this.parent.attr("value",a)},b.prototype.clearValue=function(){this.setValue("")},b.prototype.check=function(){var a={length:0,result:!0},b=this.$element.val();return 1==this.dataOptions.required&&(b||(a.required="fail",a.result=!1,a.length++)),a},b.prototype.locatBox=function(){{var b=this.$element.offset().top,c=this.$element.offset().left;a(window).scrollTop(),a(window).scrollLeft()}b=b,c=c,a("#"+this.timeBoxId).css("left",c).css("top",b+this.$element.height()+3)},a.fn.timeInput=function(c,d){var e=null,f=this.each(function(){var f=a(this),g=f.data("timeInput"),h="object"==typeof c&&c;"string"==typeof c?e=g[c](d):f.data("timeInput",g=new b(this,h))});return"string"==typeof c?e:f},a.fn.timeInput.defaults={required:!1,width:250,height:20,titleWidth:73},a(window).on("load",function(){a(".eb_timeInput").each(function(){var b=a(this),c=b.data("options");b.timeInput(c?new Function("return {"+c+"}")():a.fn.timeInput.defaults)})})}(window.jQuery),!function(a){"use strict";function b(a){var b=e('<i class="'+a+'"></i>');return b}function c(a){var c=e("<li></li>");return a.iconCls&&c.append(b(a.iconCls)),a.text&&c.append(a.text),a.handler&&c.on("click",a.handler),c}var d=a.cri,e=a.jQuery,f={buttons:[]},g="toolbar",h=d.Widgets.extend(function(){this.options=f,this.$toolBar=null,d.Widgets.apply(this,arguments)});e.extend(h.prototype,{_eventListen:function(){},_init:function(){this._create(this.$element)},_create:function(a){for(var b=this.options,d=b.buttons,f=this.$toolBar=e('<ul class="'+g+'"></ul>'),h=0,i=d.length;i>h;h++){var j=d[h];f.append(c(j))}a.append(f)}}),d.ToolBar=h}(window),!function(a){"use strict";function b(a,b){var c=a[0].style.height,d=a[0].height,e=b||c||d;if(!e)return null;var f=(""+e).split("%");return f.length>1&&(e=Math.floor(a.parent().height()*f[0]/100),e-=2),(e=(""+e).split("px")[0])?parseInt(e):void 0}function c(a,b){var c=a[0].style.width,d=a[0].width,e=b||c||d||"100%",f=(""+e).split("%");return f.length>1?Math.floor(a.parent().width()*f[0]/100):(e=e.split("px")[0],parseInt(e))}var d=a.jQuery,e=a.cri,f=31,g=31,h=16,j=e.Tree=function(a,b){this.options=d.extend({},d.fn.tree.defaults,b),this.$element=d(a),this.$tree=null,this.$treebody=null,this.selectedRow=null,this.toolbar=null,this._className="tree",this._init(),this._eventListen()};j.prototype={_init:function(){this._getData(),this._createTree()},_eventListen:function(){var a=this;this.$treebody.on("click","div.li-content",function(b){a._setSelected(b)}).on("click","li i.icon",function(b){return a._fold(b),!1}).on("dblclick","div.li-content",function(b){a._onDblClickRow(b)})},_fold:function(a){var b=this.options,c=d(a.target).closest("div"),e=c.data("uid"),f=d(a.target).closest("li"),g=d("i",c);if(g.is(".fa-folder")?g.removeClass("fa-folder").addClass("fa-folder-open"):g.removeClass("fa-folder-open").addClass("fa-folder"),this._getDataById(e),b.async){var h={};d.each(b.selectedRow,function(a,b){"childrenList"!=a&&(h[a]=b)}),b.selectedRow.childrenList||d.ajax({type:"get",url:b.asyncUrl,success:function(a){b.selectedRow.childrenList=a.rows,this._appendChildren(f,a.rows)},data:h,dataType:"JSON",async:!1})}else this._expand(f)},_expand:function(a){var b=a.children("ul");b.length&&b.children("li").each(function(){d(this).animate({height:"toggle"},500)})},_getData:function(){var a=this;return d.ajax({type:"get",url:this.options.url,success:function(b){a.options.rows=b.rows},data:this.options.param,dataType:"JSON",async:!1}),!0},_createTree:function(){var a=this.options,e=b(this.$element,a.height),h=c(this.$element,a.width),i=d("<div></div>").addClass(this._className).width(h),j=this.$treeview=d("<div></div>").addClass("tree-view"),k=this.$treebody=d("<ul></ul>").addClass("tree-body");i.attr("style",this.$element.attr("style")).show().height(e),j.append(k),e&&(this.options.title&&(e-=f),this.options.toolbar&&(e-=g),this.$treeview.css("height",e)),this.$element.wrap(i),this.$element.hide(),this.$tree=this.$element.parent(),this._createTitle(this.$tree),this._createToolbar(this.$tree),this._eachNode(k,a.rows,"show",0,0),this.$tree.append(j)},_appendChildren:function(a,b){var c=d("<ul></ul>"),e=d(i,a).attr("marginLeft");this._eachNode(c,b,"show",0,e),a.append(c)},_eachNode:function(a,b,c,e,f){for(var g={file:"icon fa fa-file",folderOpen:"icon fa fa-folder-open",folderClose:"icon fa fa-folder"},i=0,j=b.length;j>i;i++){var k=b[i],l=d("<li></li>"),m=d("<span></span>").addClass("li-text").text(k.text),n=d("<i></i>").attr("class",g.file).css("marginLeft",f),o=d("<div></div>").addClass("li-content").data("uid",++e);if(a.append(l.append(o.append(n).append(m))),"hide"==c&&l.hide(),k.children&&k.children.length>0){var p=d("<ul></ul>");(k.hasChildren||k.children&&k.children.length)&&("open"==k.state?n.attr("class",g.folderOpen):n.attr("class",g.folderClose)),l.append(p),f+=h,k.state&&"closed"==k.state?this._eachNode(p,k.children,"hide",1e3*e,f):this._eachNode(p,k.children,c,1e3*e,f),f-=h}}},_createTitle:function(a){this.options.title&&(this.$title=d('<div class="title"><span>'+this.options.title+"</span></div>"),a.append(this.$title))},_createToolbar:function(a){this.options.toolbar&&(this.toolbar=new e.ToolBar(a,{buttons:this.options.toolbar}))},_setSelected:function(a){var b=d(a.target).closest("div"),c=b.data("uid"),e=this.options;this._getDataById(c),e.onClick&&e.onClick(e.selectedRow)},_clickToolbar:function(a){var b=d(a.target),c=b.data("toolbar");this.options.toolbar[c].handler()},_getDataById:function(a){var b=this.options,c=null;!function(b){for(var d=[];a>=1;){var e=a%1e3;d.push(e),a=Math.floor(a/1e3)}for(var f=d.length-1;f>=0;f--){var g=d[f]-1;b[g]&&(c=b[g])&&(b=b[g].children)}}(b.rows),b.selectedRow=c},_onDblClickRow:function(a){var b=d(a.target).closest("div"),c=b.data("uid"),e=this.options;return this._getDataById(c),e.onDblClick&&e.onDblClick(e.selectedRow),!1},getSelected:function(){return this.options.selectedRow},reload:function(a){a&&(this.options.param=a),this._init()}},d.fn.tree=function(a){var b=null;return this.each(function(){var c=d(this),e="object"==typeof a&&a;c.data("tree",b=new j(this,e))}),b},d.fn.tree.defaults={url:"",title:null,param:null,rows:[],selectedRow:null,onDblClick:null,page:!0,async:!1,asyncUrl:null}}(window),!function(a){var b=a.jQuery,c=a.cri,d=c.TreeGrid=c.Grid.extend(function(){this._gridClassName="treegrid",c.Grid.apply(this,arguments),this._selfEvent()});d.prototype._selfEvent=function(){var a=this;this.$gridbody.on("click","tr td.line-file-icon i",function(b){a._fold(b),b.preventDefault()})},d.prototype._refreshBody=function(){function a(a,c,d,e){var f={file:"fa fa-file",folderOpen:"fa fa-folder-open",folderClose:"fa fa-folder"};b.each(c,function(){var c=b("<td></td>"),g=d[this.field]||"";if("text"==this.field){var h=b("<i></i>").attr("class",f.file);(d.hasChildren||d.children&&d.children.length)&&("open"==d.state?h.attr("class",f.folderOpen):h.attr("class",f.folderClose)),c.css("text-indent",e).addClass("line-file-icon").append(h).append(g)}else c.text(g);a.append(c)})}var c=this.$gridbody,d=b("<table></table>"),e=this.options,f=this._columns,g=1,h=1,i=6;d.append(this._createColGroup(c.width())),!function k(c,j,l){for(var m=0,n=c.length;n>m;m++){var o=b("<tr></tr>").data("rowid",++l).attr("data-rowid",l),p=c[m];"show"==j||o.hide(),e.checkBox&&o.append(p.check?b("<td></td>").addClass("line-checkbox").append('<input type="checkbox" checked/>'):b("<td></td>").addClass("line-checkbox").append('<input type="checkbox"/>')),e.rowNum&&o.append(b("<td></td>").addClass("line-number").append(g++)),a(o,f,p,h),d.append(o),p.children&&p.children.length>0&&(p.hasChildren=!0,h+=i,p.state&&"closed"==p.state?k(p.children,"hide",1e3*l):k(p.children,j,1e3*l),h-=i)}}(e.rows,"show",0),this.$gridbody.removeClass("loading").html(d),b("tr:nth-child(odd)",d).css("background","#FFF");var j=c.width()-c.prop("clientWidth");this.$gridhead.css("paddingRight",j)},d.prototype._fold=function(a){var c=this.options,d=b(a.target).closest("tr"),e=d.data("rowid"),f=this;if(this.selectedRow=this._getRowDataById(e),"open"==this.selectedRow.state)this.selectedRow.state="closed";else if("closed"==this.selectedRow.state&&(this.selectedRow.state="open",c.async&&!this.selectedRow.children)){var g={};b.each(this.selectedRow,function(a,b){"children"!=a&&(g[a]=b)}),this.selectedRow.childrenList||b.ajax({type:"post",url:c.asyncUrl,success:function(a){f.selectedRow.children=a.rows},data:g,dataType:"JSON",async:!1})}this._refreshBody()},d.prototype._checkbox=function(a){var c=b(a.target),d=b(a.target).closest("tr"),e=parseInt(d.data("rowid")),f=e,g=this._getRowDataById(e),h=c.prop("checked");!function(a){a.children&&a.children.length>0&&(f*=1e3,!function c(a){b.each(a,function(){f+=1,b("tr[data-rowid="+f+"] input[type=checkbox]").prop("checked",h),this.children&&this.children.length>0&&(f*=1e3,c(this.children),f=Math.floor(f/=1e3))})}(a.children))}(g)},d.prototype._getRowDataById=function(a){var b=this.options,c=null;return a=parseInt(a),!function(b){for(var d=[];a>=1;){var e=a%1e3;d.push(e),a=Math.floor(a/1e3)}for(var f=d.length-1;f>=0;f--){var g=d[f]-1;b[g]&&(c=b[g])&&(b=b[g].children)}}(b.rows),c},b.fn.treegrid=function(a){var c=null;return this.each(function(){var e=b(this),f="object"==typeof a&&a;c=e.data("treegrid"),c&&c.$grid.before(e).remove(),e.data("treegrid",c=new d(this,f))}),c}}(window),!function(a){"use strict";var b=a.cri,c=a.jQuery,d={Minimize:"fa fa-minus",Maximize:"fa fa-expand",Close:"fa fa-close",Resume:"fa fa-compress"},e=150,f=1e4,g={actions:["Close","Minimize","Maximize"],content:null,visible:!0,modal:!1,width:600,height:400,position:{top:0,left:0},center:!0,resizable:!0},h=b.Widgets.extend(function(){this.options=g,this.windowStatus="normal",b.Widgets.apply(this,arguments),h.prototype.windowStack.push(this)});h.prototype.windowStack=[],h.prototype._init=function(){var b=this.options,d=c(a).width(),e=c(a).height();this._createBody(),b.center&&(b.position.left=(d-b.width)/2,b.position.top=(e-b.height)/2),this.$window.css(c.extend({zIndex:this._zIndex()},b.position)).width(b.width).height(b.height),this._overlay(),this._createHead(),b.resizable&&this._createResizeHandler(),c("body").append(this.$window)},h.prototype._eventListen=function(){var a=this;this.$window.on("click",".action",function(){var b=a._actionForButton(c(this));b&&"function"==typeof a[b]&&a[b]()}).on("click",".window-head",function(){a.toFront()}).on("mousedown",".window-head",function(b){var d=+a.$window.css("left").split("px")[0],e=+a.$window.css("top").split("px")[0],f=+a.$window.width(),g=+a.$window.height(),h=b.pageX,i=b.pageY;c(document).on("mousemove",function(b){var c=b.pageX,j=b.pageY,k=c-h,l=j-i;d+=k,e+=l,h=c,i=j,a._setPosition({top:e,left:d,width:f,height:g})})}).on("mousedown",".window-resizer",function(b){var d=+a.$window.css("left").split("px")[0],e=+a.$window.css("top").split("px")[0],f=+a.$window.width(),g=+a.$window.height(),h=b.pageX,i=b.pageY,j=/[ewsn]+$/.exec(this.className)[0];c(document).on("mousemove",function(b){var c=b.pageX,k=b.pageY,l=c-h,m=k-i;h=c,i=k,j.indexOf("e")>=0&&(f+=l),j.indexOf("w")>=0&&(d=c,f-=l),j.indexOf("n")>=0&&(e=k,g-=m),j.indexOf("s")>=0&&(g+=m),a._setPosition({top:e,left:d,width:f,height:g})})}),c(document).on("mouseup",function(){c(document).off("mousemove")})},h.prototype._createHead=function(){var a=c("<div></div>").addClass("window-head");a.append(this._createTitle()).append(this._createActions()),this.$window.prepend(a),this.$windowHead=a},h.prototype._createBody=function(){var a=this.$element;a.detach();var b=c('<div class="window"></div>'),d=c('<div class="window-content"></div>');b.append(d),d.append(a),this.$window=b,this.options.content&&d.load(this.options.content),c("body").append(this.$window)},h.prototype._createTitle=function(){var a=this.options.title||"",b=c("<span></span>").addClass("title").text(a);return b},h.prototype._createActions=function(){for(var a=this.options,b=c("<div></div>").addClass("actions"),e=a.modal?["Maximize","Close"]:["Minimize","Maximize","Close"],f=0,g=e.length;g>f;f++)for(var h=e[f],i=0,j=a.actions.length;j>i;i++){var k=a.actions[i];if(k==h){var l=c("<span></span>").addClass("action").addClass(k.toLowerCase()),m=c("<i></i>").attr("class",d[k]);l.append(m),b.append(l)}}return b},h.prototype._createResizeHandler=function(){var a=[],b="n e s w nw ne se sw";c.each(b.split(" "),function(b,c){a.push('<div class="window-resizer window-resizer-'+c+'" style="display: block;"></div>')}),this.$window.append(a.join(""))},h.prototype._overlay=function(){if(this.options.modal){var a=+this.$window.css("zIndex");this.$window.css("zIndex",a+1);var b=c(".overlay");0==b.length&&(b=c("<div></div>").addClass("overlay"),c("body").append(b)),b.css("zIndex",a).show()}},h.prototype._setPosition=function(a){var b=this.$window;b.css(a),this.options.position=a},h.prototype._actionForButton=function(a){var b=/\baction \w+\b/.exec(a[0].className)[0];return{"action minimize":"minimize","action maximize":"maximize","action resume":"resume","action close":"close"}[b]},h.prototype._loadContent=function(){c.load()},h.prototype.open=function(){this._setStyleByStatus("normal"),this.windowStatus="normal"},h.prototype.close=function(){var a=f,b=null;this.$window.css("zIndex",f).hide(),c(".window").each(function(){var c=+this.style.zIndex+1;this.style.zIndex=c,c>=a&&(a=c,b=this)}),b.style.zIndex=a+1,c(".window").is(":visible")?c(".overlay").css("zIndex",a):c(".overlay").hide(),this.$window.removeClass("mini-window"),this.windowStatus="close"},h.prototype.maximize=function(){this._setStyleByStatus("maximize"),this._setButtons("maximize"),this.windowStatus="maximize"},h.prototype.minimize=function(){this._setButtons("minimize"),c(".window-content",this.$window).hide();var a=c(".mini-window").size()*e;this._setStyleByStatus("minimize"),this.$window.css("left",a),this.windowStatus="minimize"},h.prototype.resume=function(){if(this._setButtons("normal"),this._setStyleByStatus("normal"),"minimize"==this.windowStatus){this.windowStatus="normal";var a=0;c.each(h.prototype.windowStack,function(b,c){"minimize"==c.windowStatus&&c._moveLeft(a++)})}this.windowStatus="normal"},h.prototype._setStyleByStatus=function(a){var b=this.options,c=b.position,d={minimize:"window mini-window",maximize:"window maxi-window",closed:"window",normal:"window"},e={width:b.width,height:b.height,left:c.left,top:c.top,bottom:"auto",right:"auto"};this.$window.prop("class",d[a]).css(e)},h.prototype._setButtons=function(a){var b={minimize:["resume","close"],maximize:["resume","close"],normal:["minimize","maximize","close"]},e=c(".buttons",this.$window);if(c(".button",e).hide(),"minimize"==a){var f=c(".maximize",e).removeClass("maximize").addClass("resume");c("i",f).prop("class",d.Maximize)}if("maximize"==a){var f=c(".maximize",e).removeClass("maximize").addClass("resume");c("i",f).prop("class",d.Resume)}if("normal"==a){var f=c(".resume",e).removeClass("resume").addClass("maximize");c("i",f).prop("class",d.Maximize)}c.each(b[a],function(a,b){c("."+b,e).show()})},h.prototype._moveLeft=function(a){this.$window.css("left",e*a)},h.prototype.toFront=function(){var a=this._getFrontWindow();if(this.$window!=a){var b=+this.$window.css("zIndex");this.$window.css("zIndex",a.css("zIndex")),a.css("zIndex",b)}},h.prototype._getFrontWindow=function(){var a=+this.$window.css("zIndex"),b=this.$window;return c(".window").each(function(){var d=+this.style.zIndex;d>a&&(b=c(this),a=d)}),b},h.prototype._zIndex=function(){var a=f;return c(".window").each(function(){a=Math.max(+this.style.zIndex,a)}),++a},b.Window=h,c.fn.window=function(a){var b=null;return this.each(function(){var b=c(this),d=b.data("window"),e="object"==typeof a&&a;null!=d&&d.$window.before(b).remove(),b.data("window",d=new h(this,e))}),b}}(window);